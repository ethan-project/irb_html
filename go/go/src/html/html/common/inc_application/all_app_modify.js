var g_other_userlist;"undefined"==typeof ipsap_common_func_js&&document.write("<script src='/assets/js/ipsap/ipsap_common_func.js'><\/script>");var user_info=JSON.parse(COMM.getCookie(CONST.COOKIE.IPSAP_USER_INFO));function remakeApplicationInfo(e,a){var t="iacuc_all";for(let a=0;a<e.length;++a)t=t+","+e[a];let _={"filter.query_items":t,"filter.guide_items":"iacuc_all"};if(isInArray(e,"supplement")){for(const[e,a]of Object.entries(IPSAP.REVIEW_TAG)){let t="app_supplement_"+e;html=`\n      <div class="col-sm-9 mTop20">\n        <div class="checkbox checkbox-danger">\n          <input type="checkbox" id="${t}" value="1" checked readonly>\n          <label>${a}</label>\n        </div>\n        <span class="data officer" id="${"app_supplement_text_"+e}">${""}</span>\n      </div>\n      `,$("#"+t).replaceWith(html)}}else for(const[e,a]of Object.entries(IPSAP.REVIEW_TAG))$("#app_supplement_"+e).remove();g_AppItemParser=new ItemParser(g_AppInfo.appSeq),g_AppItemParser.load(_,(function(t){!function(a){if(!isInArray(e,"supplement"))return;var t=a.getItemData("supplement");for(const[e,a]of Object.entries(IPSAP.REVIEW_TAG)){let a=t.dataObj.saved_data.data[e];if(null==a||""==a)continue;let _="app_supplement_"+e,i="app_supplement_text_"+e;0==a.substring(0,1)?($("#"+_).prop({checked:!1,disabled:!0}).removeAttr("checked readonly"),$("#"+_).parent().removeClass("checkbox-danger"),$("#"+i).addClass("collapse"),$("#"+i).removeClass("show")):$("#"+i).text(a.substring(2))}}(t);var _=t.getItemData("iacuc_all").dataObj.sub_items,i="general_title";(n=t.getItemFromList(_,i)).applyTextMapValue(i+"_name_ko","name_ko"),n.applyTextMapValue(i+"_name_en","name_en");i="general_end_date";(n=t.getItemFromList(_,i)).applyCalanderValue(i);i="general_experiment_cnt";(n=t.getItemFromList(_,i)).applyTextValue();i="general_experiment_degree";(n=t.getItemFromList(_,i)).applyTextValue();i="general_fund_org";var n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("general_fund_org-main_check"))&&$("#input_01-3_group").addClass("collapse").removeClass("show");i="general_fund_org_name";(n=t.getItemFromList(_,i)).applyTextValue();i="general_fund_conflict";null!=(n=t.getItemFromList(_,i))&&n.makeHtmlRadioType();(function(e){var a="iacuc_all",t=e.getItemData(a).dataObj.sub_items,_="general_director",i=e.getItemFromList(t,_);if(null==i.dataObj.saved_data)return;i.initMembers();let n=i.dataObj.saved_data.data[0];n.info.tmp_phoneno=n.info.phoneno.replace(/(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/,"$1-$2-$3"),n.info.tmp_edu_date=n.info.edu_date.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3"),$("#general_director_name").text(n.info.name),$("#general_director_email").text(n.info.email),$("#general_director_dept").text(n.info.dept_str),$("#general_director_edu_date").text(n.info.tmp_edu_date),$("#general_director_position").text(n.info.position_str),$("#general_director_edu_instition").text(n.info.edu_institution_str),$("#general_director_major_field").text(n.info.major_field_str),$("#general_director_edu_course_num").text(n.info.edu_course_num),$("#general_director_phoneno").text(n.info.tmp_phoneno);var p=_+"_select";combo_html=makeComboList(p,"<option selected disabled>경력 선택</option>",i.dataObj.codes,"exp_year_code"),$("#"+p).replaceWith(combo_html),$("#"+p).find(`option[value='${n.exp_year_code}'`).attr("selected",!0),$("#"+p).on("change",(function(){i.changeAttrForMember(n.user_seq,"exp_year_code",this.value)}))})(t),function(e){var a="iacuc_all",t=e.getItemData(a).dataObj.sub_items,_="general_expt",i=e.getItemFromList(t,_);if(null==i.dataObj.saved_data)return;i.initMembers(),makeExptUserList()}(t);i="general_ref";if(null==(n=t.getItemFromList(_,i)))return;n.applyMultiFileValue(5,i,"관련 자료");i="purpose_1";(n=t.getItemFromList(_,i)).makeHtmlCheckList(IPSAP.COL.ODD),n.makeHtmlCheckList(IPSAP.COL.EVEN);i="purpose_2_basic";var p=(n=t.getItemFromList(_,i)).applyMainCheckValueInCheckBox("purpose_2_basic-main_check");n.makeHtmlCheckList(IPSAP.COL.ODD),n.makeHtmlCheckList(IPSAP.COL.EVEN),p&&$("#input_1_group").addClass("show");$("#purpose_2_basic").append($("#purpose_2_basic_guide").closest(".app_guide").css({padding:"0 30px 0 18px",height:"40px"}));i="purpose_2_applied",p=(n=t.getItemFromList(_,i)).applyMainCheckValueInCheckBox("purpose_2_applied-main_check");n.makeHtmlCheckList(IPSAP.COL.ODD),n.makeHtmlCheckList(IPSAP.COL.EVEN),p&&$("#input_2_group").addClass("show");$("#purpose_2_basic-main_check").on("change",(e=>{$(e.currentTarget).prop("checked")?$("#purpose_2_applied_guide").css({"margin-top":""}):$("#purpose_2_applied_guide").css({"margin-top":"30px"})}));i="purpose_2_test",p=(n=t.getItemFromList(_,i)).applyMainCheckValueInCheckBox("purpose_2_test-main_check");n.makeHtmlCheckList(),p&&$("#input_3_group").addClass("show");$("#purpose_2_test_0_4").attr("data-target","#input_3-1_group"),$("#purpose_2_test_0_4").attr("data-toggle","collapse"),$("#purpose_2_test_0_4").is(":checked")&&$("#input_3-1_group").addClass("show");var r=t.getItemFromList(_,"purpose_2_test2");r.makeHtmlCheckList(IPSAP.COL.ODD),r.makeHtmlCheckList(IPSAP.COL.EVEN);i="purpose_2_nature",p=(n=t.getItemFromList(_,i)).applyMainCheckValueInCheckBox("purpose_2_nature-main_check"),i="purpose_2_species",n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("purpose_2_species-main_check"))&&$("#input_5_group").addClass("show");i="purpose_2_training",p=(n=t.getItemFromList(_,i)).applyMainCheckValueInCheckBox("purpose_2_training-main_check");n.makeHtmlCheckList(),p&&$("#input_6_group").addClass("show");$("#purpose_2_training_4").is(":checked")&&$("#purpose_2_training_4_input_1").css("display","block");i="purpose_2_forensic",p=(n=t.getItemFromList(_,i)).applyMainCheckValueInCheckBox("purpose_2_forensic-main_check"),i="purpose_2_gene",n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("purpose_2_gene-main_check"))&&$("#input_8_group").addClass("show");i="purpose_2_etc_check",n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("purpose_2_etc_check-main_check"))&&($("#input_9_group").addClass("show"),$("#purpose_2_etc_input").css("display","block"));i="purpose_2_etc_input";(n=t.getItemFromList(_,i)).applyTextValue();i="purpose_duplAgcy";(n=t.getItemFromList(_,i)).makeHtmlCheckList(IPSAP.COL.ODD),n.makeHtmlCheckList(IPSAP.COL.EVEN);i="purpose_3rs_research";(n=t.getItemFromList(_,i)).makeHtmlCheckList();i="purpose_3rs_exam";(n=t.getItemFromList(_,i)).makeHtmlCheckList();i="purpose_3rs_edu";(n=t.getItemFromList(_,i)).makeHtmlCheckList();i="purpose_keyword_special";(n=t.getItemFromList(_,i)).applyKeywordValue(i);i="purpose_keyword_replace";(n=t.getItemFromList(_,i)).applyKeywordValue(i);i="purpose_keyword_reduce";(n=t.getItemFromList(_,i)).applyKeywordValue(i);i="purpose_keyword_refine";(n=t.getItemFromList(_,i)).applyKeywordValue(i),setDateRange();i="purpose_search_date";(n=t.getItemFromList(_,i)).applyCalanderValue(i);i="purpose_alter_result";null!=(n=t.getItemFromList(_,i))&&n.makeHtmlRadioType();animalDataMapping(t);i="animal_species_reason_text";(n=t.getItemFromList(_,i)).applyTextValue();i="animal_species_reason_file";(n=t.getItemFromList(_,i)).applyMultiFileValue(1,i,"관련 자료");i="animal_cnt_reason_text";(n=t.getItemFromList(_,i)).applyTextValue();i="animal_cnt_reason_file";(n=t.getItemFromList(_,i)).applyMultiFileValue(1,i,"관련 자료"),substanceDataMapping(t,!1,!0,"#modal_changeSubstance");i="animal_exp_summary_text";(n=t.getItemFromList(_,i)).applyTextValue();i="animal_exp_summary_file";(n=t.getItemFromList(_,i)).applyMultiFileValue(1,i,"관련 자료");i="animal_exp_form";(n=t.getItemFromList(_,i)).makeHtmlCheckList(IPSAP.COL.ODD),n.makeHtmlCheckList(IPSAP.COL.EVEN);i="animal_exp_restraint";(n=t.getItemFromList(_,i)).makeHtmlCheckList();i="animal_exp_identify";(n=t.getItemFromList(_,i)).makeHtmlCheckList(IPSAP.COL.ODD),n.makeHtmlCheckList(IPSAP.COL.EVEN);i="animal_exp_surgical",n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("animal_exp_surgical-main_check"))&&$("#content_05-5").addClass("show");i="animal_exp_surgical_kind";(n=t.getItemFromList(_,i)).makeHtmlRadioType(IPSAP.COL.HORI);i="animal_exp_surgical_method_text";(n=t.getItemFromList(_,i)).applyTextValue();i="animal_exp_surgical_method_file";(n=t.getItemFromList(_,i)).applyMultiFileValue(1,i,"관련 자료");i="animal_exp_export_time";(n=t.getItemFromList(_,i)).applyTextValue();i="animal_exp_export_reason";(n=t.getItemFromList(_,i)).applyTextValue();i="animal_exp_sample_check";(n=t.getItemFromList(_,i)).makeHtmlCheckList(IPSAP.COL.ODD),n.makeHtmlCheckList(IPSAP.COL.EVEN);i="animal_exp_sample_string";(n=t.getItemFromList(_,i)).applyTextValue(),substance_5_8_DataMapping(t);i="animal_exp_substance_method2";(n=t.getItemFromList(_,i)).applyTextValue();i="pain_grage";null!=(n=t.getItemFromList(_,i))&&n.makeHtmlRadioType();checkAfterAvailable();i="pain_d_anesthetic",n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("pain_d_anesthetic-main_check"))&&$("#pain_d_anesthetic_group").addClass("show");mappingPainDAnesthetic(t,!0);i="pain_d_etc",n=t.getItemData(i);(p=n.applyMainCheckValueInCheckBox("pain_d_etc-main_check"))&&$("#pain_d_etc_text").css("display","block");i="pain_d_etc_text";(n=t.getItemData(i)).applyTextValue();i="pain_d_3_text";(n=t.getItemData(i)).applyTextValue(),$("#pain_d_anesthetic-main_check").prop("disabled",!0),$("#pain_d_etc-main_check").prop("disabled",!0),$("#pain_d_3_text").prop("disabled",!0),checkAfterResetData();i="pain_e_1",n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("pain_e_1-main_check"))&&$("#input_06-3_1").addClass("show");i="pain_e_1_text";(n=t.getItemFromList(_,i)).applyTextValue();i="pain_e_2",n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("pain_e_2-main_check"))&&$("#input_06-3_2").addClass("show");i="pain_e_2_text";(n=t.getItemFromList(_,i)).applyTextValue();i="pain_e_3",n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("pain_e_3-main_check"))&&$("#input_06-3_3").addClass("show");i="pain_e_3_text";(n=t.getItemFromList(_,i)).applyTextValue();i="pain_e_4_text";(n=t.getItemFromList(_,i)).applyTextValue(),$("#pain_e_1-main_check").prop("disabled",!0),$("#pain_e_2-main_check").prop("disabled",!0),$("#pain_e_3-main_check").prop("disabled",!0),checkAfterResetData();i="special_consideration";(n=t.getItemData(i)).makeHtmlCheckList();i="pain_relief_eval_item";(n=t.getItemFromList(_,i)).makeHtmlCheckList();i="pain_relief_eval_cycle1";(n=t.getItemFromList(_,i)).applyTextValue();i="pain_relief_eval_cycle2";(n=t.getItemFromList(_,i)).applyTextValue();i="pain_relief_eval_cycle3";(n=t.getItemFromList(_,i)).applyTextValue();i="pain_relief_end_check";null!=(n=t.getItemData(i))&&n.makeHtmlRadioType(IPSAP.COL.HORI);i="pain_relief_end_reason_1";(n=t.getItemData(i)).applyTextValue();i="pain_relief_end_reason_2";(n=t.getItemData(i)).applyTextValue(),$("#pain_relief_end_reason_2").prop("disabled",!0),checkAfterAvailable2();i="pain_relief_psych_medicine",n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("pain_relief_psych_medicine-main_check"))&&$("#content_07-3").addClass("show");i="pain_relief_psych_m_name";(n=t.getItemFromList(_,i)).applyTextValue();i="pain_relief_psych_m_license";(n=t.getItemFromList(_,i)).applyMultiFileValue(5,i,"마약류 사용허가증 첨부","mRight20 mBot0");i="pain_relief_animal_medicine",n=t.getItemFromList(_,i);(p=n.applyMainCheckValueInCheckBox("pain_relief_animal_medicine-main_check"))&&$("#content_07-4").addClass("show");i="pain_relief_animal_m_name";(n=t.getItemFromList(_,i)).applyTextValue();i="pain_relief_animal_m_license";(n=t.getItemFromList(_,i)).applyMultiFileValue(5,i,"처방전 첨부","mRight20 mBot0");i="pain_relief_veterinary_mng",n=t.getItemFromList(_,i);data=t.dataObj.iacuc_all.sub_items.main_pain_grade.sub_items.pain_d.sub_items.pain_d_anesthetic.saved_data.main_select[0],p=!0,0==data&&(p=!1);t.managedItems.pain_relief_veterinary_mng.main_check_id="pain_relief_veterinary_mng-main_check",p&&($("input:checkbox[id='pain_relief_veterinary_mng-main_check']").prop("checked",p),$("#pain_relief_veterinary_mng_group").addClass("show"));$("#pain_relief_veterinary_mng-main_check").attr("disabled",!0),mappingPainReliefVeterinaryMng(t);i="breed_mng_condition";(n=t.getItemFromList(_,i)).makeHtmlCheckList();i="breed_mng_environment";(n=t.getItemFromList(_,i)).makeHtmlRadioType();i="breed_mng_rich_tool";(n=t.getItemFromList(_,i)).makeHtmlCheckList(IPSAP.COL.ODD),n.makeHtmlCheckList(IPSAP.COL.EVEN);i="breed_mng_notrich_reason";(n=t.getItemFromList(_,i)).applyTextValue();i="euthanasia_method";(n=t.getItemFromList(_,i)).makeHtmlRadioType(IPSAP.COL.ODD),n.makeHtmlRadioType(IPSAP.COL.EVEN);i="euthanasia_method_reason";(n=t.getItemFromList(_,i)).applyTextValue();i="euthanasia_corpse_1";(n=t.getItemFromList(_,i)).applyTextValue();i="euthanasia_corpse_2";(n=t.getItemFromList(_,i)).applyTextValue();i="euthanasia_share";(n=t.getItemFromList(_,i)).makeHtmlRadioType();i="compliance_matters_agree",p=(n=t.getItemFromList(_,i)).applyMainCheckValueInCheckBox("compliance_matters_agree-main_check"),i="compliance_matters_pledge",p=(n=t.getItemFromList(_,i)).applyMainCheckValueInCheckBox("compliance_matters_pledge-main_check");$("#istt_name").text(g_AppInfo.appObj.istt_name_ko),1==g_AppInfo.appObj.judge_type?$("#judge_type_kor").text("동물실험윤리위원회"):2==g_AppInfo.appObj.judge_type?$("#judge_type_kor").text("기관생물안전위원회"):3==g_AppInfo.appObj.judge_type&&$("#judge_type_kor").text("기관생명윤리위원회");setTriggerDataMoveTo(),null!=a&&a(t);setKeyword(),setAgreeDate(),collapseFun()})),$("#ins_temp_save").on({click:function(e){g_AppItemParser.deleteSaveTag(["substance_dosage_flag","substance_dosage_name","substance_danger_flag","substance_danger_pathogen","substance_dangerous","substance_ibc_number","substance_possible_flag"]),g_AppItemParser.addMoreSaveTag("supplement",makeSupplementData()),appItemSaveTemporary(finalNavigationCallback)}}),$("#temp_save_redirect").on({click:function(e){g_AppItemParser.deleteSaveTag(["substance_dosage_flag","substance_dosage_name","substance_danger_flag","substance_danger_pathogen","substance_dangerous","substance_ibc_number","substance_possible_flag"]),g_AppItemParser.addMoreSaveTag("supplement",makeSupplementData()),appItemSubmit(finalNavigationCallback2)}}),getStaff(),deleteStaff()}function getStaff(){let e=CONST.API.INSTITUTION.USER;API.load({url:e.replace("${inst_seq}",g_AppInfo.appObj.institution_seq),data:{"filter.user_type":IPSAP.USER_TYPE.RESEARCHER},type:CONST.API_TYPE.GET,success:function(e){g_other_userlist=e}})}function deleteStaff(){$(document).on("click",".btn-staff-delete",(function(){var e=$(this).closest("tr").attr("data-id"),a=$(this).closest("tr").attr("item_name");g_AppItemParser.removeMembers(a,e),$(this).closest("tr").remove()}))}function makeExptUserList(){var e="general_expt",a=g_AppItemParser.getItemData(e),t='<tbody id="general_expt">';let _=g_AppItemParser.managedItems[e].member;$.each(_,(function(e,_){_.info.tmp_phoneno=_.info.phoneno.replace(/(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/,"$1-$2-$3"),_.info.tmp_edu_date=_.info.edu_date.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3");var i=`general_expt_${_.user_seq}_select`,n=`general_expt_${_.user_seq}_radio`;combo_html=makeComboList(i,"<option selected disabled>경력</option>",a.dataObj.codes,"exp_year_code"),t+=`\n      <tr data-id="${_.user_seq}" item_name="general_expt">\n        <td>\n          <div class="custom-radio">\n            <input type="radio" id="${n}" name="exp_manager" value="${_.user_seq}">\n          </div>\n        </td>\n        \x3c!-- <td>${_.info.user_type_str}</td> --\x3e\n        <td>${_.info.name}</td>\n        <td>${_.info.dept_str}</td>\n        <td>${_.info.position_str}</td>\n        <td>${_.info.major_field_str}</td>\n        <td>${_.info.tmp_phoneno}</td>\n        <td class="ellipsis max_w150" title="${_.info.email}">${_.info.email}</td>\n        <td>${_.info.edu_course_num}</td>\n        <td>${_.info.edu_institution_str}</td>\n        <td>${combo_html}</td>\n        <td>\n          <a href="javascript:void(0);" class="btn btn-xs btn-outline-danger btn-staff-delete"><i class="far fa-trash-alt mRight5"></i>삭제</a>\n        </td>\n      </tr>`})),t+='\n  <tr class="add_row">\n    <td colspan="11">\n      <a href="javascript:void(0);" onclick="openModelOtherStaff();" class="btn btn-xs btn-outline-primary" ><i class="fas fa-user-plus mRight5"></i>실험 수행자 선택 추가</a>\n    </td>\n  </tr>\n  </tbody>',$("#general_expt").replaceWith(t),$.each(_,(function(e,t){var _=`general_expt_${t.user_seq}_radio`;t.animal_mng_flag>0&&$("#"+_).prop("checked",!0);var i=`general_expt_${t.user_seq}_select`;$("#"+i).find(`option[value='${t.exp_year_code}'`).attr("selected",!0),$("#"+i).on("change",(function(){a.changeAttrForMember(t.user_seq,"exp_year_code",this.value)}))})),$("input[name=exp_manager]").on("change",(function(){var e=Number($(this).val());a.changeAttrForMember(e,"animal_mng_flag",1)}))}function checkAfterAvailable(){$("input:radio[name=pain_grage_0]").click((function(){4==$(this).val()?($("#pain_d_anesthetic-main_check").prop("disabled",!1),$("#pain_d_etc-main_check").prop("disabled",!1),$("#pain_d_3_text").prop("disabled",!1),$("#pain_e_1-main_check").prop("disabled",!0),$("#pain_e_2-main_check").prop("disabled",!0),$("#pain_e_3-main_check").prop("disabled",!0),$("#pain_e_1-main_check").prop("checked",!1),$("#pain_e_1_text").prop("disabled",!0),$("#pain_e_1_text").val(""),$("#input_06-3_1").removeClass("show"),$("#pain_e_2-main_check").prop("checked",!1),$("#pain_e_2_text").prop("disabled",!0),$("#pain_e_2_text").val(""),$("#input_06-3_2").removeClass("show"),$("#pain_e_3-main_check").prop("checked",!1),$("#pain_e_3_text").prop("disabled",!0),$("#pain_e_3_text").val(""),$("#input_06-3_3").removeClass("show"),$("#pain_e_4_text").val(""),$("#pain_e_4_text").prop("disabled",!0)):5==$(this).val()?($("#pain_d_anesthetic-main_check").prop("disabled",!0),$("#pain_d_3_text").prop("disabled",!0),$("#pain_d_3_text").val(""),$("#pain_d_anesthetic_group").removeClass("show"),$("#pain_d_etc-main_check").prop("disabled",!0),$("#pain_d_etc_text").css("display","none"),$("#pain_d_etc_text").val(""),$("#pain_d_anesthetic-main_check").prop("checked",!1),$("#pain_d_etc-main_check").prop("checked",!1),$("#pain_e_1-main_check").prop("disabled",!1),$("#pain_e_1_text").prop("disabled",!1),$("#pain_e_2-main_check").prop("disabled",!1),$("#pain_e_2_text").prop("disabled",!1),$("#pain_e_3-main_check").prop("disabled",!1),$("#pain_e_3_text").prop("disabled",!1),$("#pain_e_4_text").val(""),$("#pain_e_4_text").prop("disabled",!1)):($("#pain_d_anesthetic-main_check").prop("disabled",!0),$("#pain_d_anesthetic-main_check").prop("checked",!1),$("#pain_d_anesthetic_group").removeClass("show"),$("#pain_d_etc-main_check").prop("disabled",!0),$("#pain_d_etc-main_check").prop("checked",!1),$("#pain_d_etc_text").css("display","none"),$("#pain_d_etc_text").val(""),$("#pain_d_3_text").prop("disabled",!0),$("#pain_d_3_text").val(""),$("#pain_e_1-main_check").prop("disabled",!0),$("#pain_e_1-main_check").prop("checked",!1),$("#pain_e_1_text").prop("disabled",!0),$("#pain_e_1_text").val(""),$("#input_06-3_1").removeClass("show"),$("#pain_e_2-main_check").prop("disabled",!0),$("#pain_e_2-main_check").prop("checked",!1),$("#pain_e_2_text").prop("disabled",!0),$("#pain_e_2_text").val(""),$("#input_06-3_2").removeClass("show"),$("#pain_e_3-main_check").prop("disabled",!0),$("#pain_e_3-main_check").prop("checked",!1),$("#pain_e_3_text").prop("disabled",!0),$("#pain_e_3_text").val(""),$("#input_06-3_3").removeClass("show"),$("#pain_e_4_text").prop("disabled",!0),$("#pain_e_4_text").val(""),$("#pain_relief_veterinary_mng-main_check").prop("checked",!1),$("#pain_relief_veterinary_mng_group").removeClass("show"))}))}function checkAfterResetData(){$("#pain_grage_0_4").is(":checked")?($("#pain_d_anesthetic-main_check").prop("disabled",!1),$("#pain_d_etc-main_check").prop("disabled",!1),$("#pain_d_3_text").prop("disabled",!1),$("#pain_e_1-main_check").prop("checked",!1),$("#pain_e_2-main_check").prop("checked",!1),$("#pain_e_3-main_check").prop("checked",!1),$("#pain_e_4_text").prop("disabled",!0)):$("#pain_grage_0_5").is(":checked")?($("#pain_d_anesthetic-main_check").prop("checked",!1),$("#pain_d_etc-main_check").prop("checked",!1),$("#pain_d_3_text").prop("disabled",!0),$("#pain_d_3_text").val(""),$("#pain_e_1-main_check").prop("disabled",!1),$("#pain_e_2-main_check").prop("disabled",!1),$("#pain_e_3-main_check").prop("disabled",!1)):($("#pain_d_anesthetic-main_check").prop("checked",!1),$("#pain_d_etc-main_check").prop("checked",!1),$("#pain_d_3_text").prop("disabled",!0),$("#pain_d_3_text").val(""),$("#pain_e_1-main_check").prop("checked",!1),$("#pain_e_2-main_check").prop("checked",!1),$("#pain_e_3-main_check").prop("checked",!1),$("#pain_e_4_text").prop("disabled",!0),$("#pain_e_4_text").val(""))}function checkAfterAvailable2(){$("#pain_relief_end_check_0_1").is(":checked")?($("#pain_relief_end_reason_1").prop("disabled",!1),$("#pain_relief_end_reason_2").prop("disabled",!0),$("#pain_relief_end_reason_2").val("")):$("#pain_relief_end_check_0_2").is(":checked")&&($("#pain_relief_end_reason_2").prop("disabled",!1),$("#pain_relief_end_reason_1").prop("disabled",!0),$("#pain_relief_end_reason_1").val("")),$("input:radio[name=pain_relief_end_check_0]").on("change",(function(){$("#pain_relief_end_check_0_1").is(":checked")?($("#pain_relief_end_reason_1").prop("disabled",!1),$("#pain_relief_end_reason_2").prop("disabled",!0),$("#pain_relief_end_reason_2").val("")):$("#pain_relief_end_check_0_2").is(":checked")&&($("#pain_relief_end_reason_2").prop("disabled",!1),$("#pain_relief_end_reason_1").prop("disabled",!0),$("#pain_relief_end_reason_1").val(""))}))}function openModelOtherStaff(){makeOtherStaffList(),$("#modal_staff").modal("show")}function onStaffSelect(e){$.each(g_other_userlist,(function(a,t){if(Number(t.user_seq)==e&&!g_AppItemParser.hasMemberExists(t.user_seq))return g_AppItemParser.insertMember("general_expt",t),makeExptUserList(),void $("#modal_staff").modal("hide")}))}function makeOtherStaffList(){let e='<tbody id="other-staff">';$.each(g_other_userlist,(function(a,t){g_AppItemParser.hasMemberExists(t.user_seq)||(t.tmp_phoneno=t.phoneno.replace(/(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/,"$1-$2-$3"),e+=`\n        <tr class="staff-row" onclick="onStaffSelect(${t.user_seq})">\n          <td>${t.user_type_str}</td>\n          <td>${t.name}</td>\n          <td>${t.dept_str}</td>\n          <td>${t.position_str}</td>\n          <td>${t.major_field_str}</td>\n          <td>${t.tmp_phoneno}</td>\n          <td>${t.email}</td>\n          <td>${t.edu_course_num}</td>\n          <td>${t.edu_institution_str}</td>\n        </tr>`)})),e+="</tbody>",$("#other-staff").replaceWith(e)}function setKeyword(){$(".specificity-add").on("click",(function(){let e=$("input:text[name=specificity]");var a="purpose_keyword_special";$(e).each((function(e,t){$(t).val().length>0&&g_AppItemParser.addNewKeyword(a,$(t).val())})),e.val(""),g_AppItemParser.refreshKeyword(a)})),$(".replacement-add").on("click",(function(){let e=$("input:text[name=replacement]");var a="purpose_keyword_replace";$(e).each((function(e,t){$(t).val().length>0&&g_AppItemParser.addNewKeyword(a,$(t).val())})),e.val(""),g_AppItemParser.refreshKeyword(a)})),$(".reduction-add").on("click",(function(){let e=$("input:text[name=reduction]");var a="purpose_keyword_reduce";$(e).each((function(e,t){$(t).val().length>0&&g_AppItemParser.addNewKeyword(a,$(t).val())})),e.val(""),g_AppItemParser.refreshKeyword(a)})),$(".refinement-add").on("click",(function(){let e=$("input:text[name=refinement]");var a="purpose_keyword_refine";$(e).each((function(e,t){$(t).val().length>0&&g_AppItemParser.addNewKeyword(a,$(t).val())})),e.val(""),g_AppItemParser.refreshKeyword(a)})),$(document).on("click",".keyword-delete",(function(){var e=$(this).parent(),a=e.attr("keyword"),t=e.attr("item_name");g_AppItemParser.removeKeyword(t,a),e.remove()}))}function setDateRange(){let e=moment(new Date).format("YYYY-MM-DD");$("#purpose_search_date").val(e);let a=new Date;a.setMonth(a.getMonth()-3),$("#purpose_search_date").on("change",(function(){let t=$("#purpose_search_date").val().split("-"),_=new Date(t[0],parseInt(t[1]-1),t[2]);a.getTime()>_.getTime()&&(alert("최근 3개월 이내의 일자를 선택하세요."),$("#purpose_search_date").val(e))}))}function setAgreeDate(){var e=new Date,a=e.getFullYear(),t=e.getMonth()+1,_=e.getDate(),i=a+"년 "+(t=t>=10?t:"0"+t)+"월 "+(_=_>=10?_:"0"+_)+"일";$(".agree_date").text(i),$(".task_director").text(g_AppInfo.appObj.user_name)}function finalNavigationCallback2(e,a,t){e?location.replace("/html/researcher/application_list.html"):appSubmitHandleError("저장을 실패했습니다.",a)}function finalNavigationCallback(e,a,t){}function makeSupplementData(){var e={};for(const[a,t]of Object.entries(IPSAP.REVIEW_TAG)){let t="app_supplement_text_"+a,_=$("#"+("app_supplement_"+a)).is(":checked"),i=$("#"+t).text();if(_||(i=""),!_||""!=i){let t="0|";_&&(t="1|"),t+=i,e[a]=t}}return{data:e}}