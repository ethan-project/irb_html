var user_info=JSON.parse(COMM.getCookie(CONST.COOKIE.IPSAP_USER_INFO)),user_seq=user_info.user_seq;function loadUserInfo(user_type){switch(null==user_type&&(user_type=IPSAP.USER_TYPE.RESEARCHER),user_type){case IPSAP.USER_TYPE.RESEARCHER:case IPSAP.USER_TYPE.ADMIN_OFFICER:case IPSAP.USER_TYPE.OFFICER:case IPSAP.USER_TYPE.CHAIRMAN:case IPSAP.USER_TYPE.COMMITTEE:}if(IPSAP.DEMO_MODE)return;let tbody1=$(".info_table_content").eq(0).find("tbody"),tbody2=$(".info_table_content").eq(1).find("tbody"),tbody3=$(".info_table_content").eq(2).find("tbody");API.load({url:eval("`"+CONST.API.USER.DETAIL+"`"),type:CONST.API_TYPE.GET,success:function(e){tbody1.find("tr").eq(0).find(".data").find("span").eq(1).text(e.institution_name_ko),tbody1.find("tr").eq(0).find(".data").find("span").eq(4).text(e.institution_name_en),tbody1.find("tr").eq(1).find(".data").text(e.institution_code);let t=tbody1.find("tr").eq(2).find(".data"),a="",d=[];d.push(e.user_type_str.split(",")),$.each(d[0],(function(e,t){a+='<span class="label auth_label">',a+=t+"</span>"})),t.html(a),tbody1.find("tr").eq(3).find(".data").text(e.dept_str),tbody1.find("tr").eq(4).find(".data").text(e.position_str),tbody1.find("tr").eq(5).find(".data").text(e.major_field_str),tbody2.find("tr").eq(0).find(".data").text(e.name),tbody2.find("tr").eq(1).find(".data").text(e.phoneno.replace(/(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/,"$1-$2-$3")),tbody2.find("tr").eq(2).find(".data").text(e.email),"1"==e.agree_email?($("#agree_to_receive-email").prop("checked","checked"),$("#agree_to_receive-email").prop("readonly","readonly")):$("#agree_to_receive-email").prop("disabled","disabled"),"1"==e.agree_sms?($("#agree_to_receive-sms").prop("checked","checked"),$("#agree_to_receive-sms").prop("readonly","readonly")):$("#agree_to_receive-sms").prop("disabled","disabled"),"1"==e.agree_pri_open?($("#agree_to_open-info").prop("checked","checked"),$("#agree_to_open-info").prop("readonly","readonly")):$("#agree_to_open-info").prop("disabled","disabled"),tbody3.find("tr").eq(0).find(".data").text(e.edu_date.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")),tbody3.find("tr").eq(1).find(".data").text(e.edu_institution_str),tbody3.find("tr").eq(2).find(".data").text(e.edu_course_num)},complete:function(){}})}$((function(){function changePassword(){var old_password=$("#old_password"),new_password=$("#new_password"),renew_password=$("#renew_password");$("#btn_change_pw").on("click",(function(e){if(e.preventDefault(),new_password.val()==renew_password.val())$(".blue_deep").removeAttr("hidden"),$(".red").attr("hidden",!0);else if(new_password.val()!=renew_password.val())return $(".blue_deep").attr("hidden",!0),$(".red").removeAttr("hidden"),!1;var param=$("form").serialize();param=COMM.paramStr2Object(param),param.new_pw=COMM.getEncrypt(COMM.getCookie(CONST.COOKIE.IPSAP_TMP_KEY),new_password.val()),param.old_pw=COMM.getEncrypt(COMM.getCookie(CONST.COOKIE.IPSAP_TMP_KEY),old_password.val()),API.load({url:eval("`"+CONST.API.USER.PATCH_PASS+"`"),type:CONST.API_TYPE.PATCH,data:param,success:function(e){},complete:function(){$("#modal_change_pw").modal("hide")}})}))}changePassword()}));