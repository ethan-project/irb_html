"undefined"==typeof ipsap_common_js&&document.write("<script src='/assets/js/ipsap/ipsap_common.js'><\/script>"),"undefined"==typeof api_js&&document.write("<script src='/assets/js/common/api.js'><\/script>"),"undefined"==typeof const_js&&document.write("<script src='/assets/js/common/const.js'><\/script>"),"undefined"==typeof ipsap_application_common_js&&document.write("<script src='/assets/js/ipsap/ipsap_application_common.js'><\/script>");var board_seq=IPSAP.getStor("board_seq"),inst_info=JSON.parse(COMM.getCookie("institution_info")),institution_seq=parseInt(inst_info.institution_seq);function saveData(){var board_file=$("#file_01")[0].files[0],sendingObj=new Object;sendingObj.board_type=2,sendingObj.institution_seq=institution_seq,""==$(".bd_file").find(".data").text()?sendingObj.file_delete=!0:sendingObj.file_delete=!1,sendingObj.title=$("#input_01").val(),sendingObj.text=$("#input_02").val(),sendingObj=JSON.stringify(sendingObj);var formData=new FormData;formData.append("board_file",board_file),formData.append("param",sendingObj),API.load({url:eval("`"+CONST.API.BOARD.PATCH+"`"),type:CONST.API_TYPE.PATCH,enctype:"multipart/form-data",data:formData,contentType:!1,processData:!1,success:function(t){},complete:function(){window.location.replace("./board_02-list.html")}})}function deleteData(){API.load({url:eval("`"+CONST.API.BOARD.DELETE+"`"),type:CONST.API_TYPE.DELETE,success:function(t){},complete:function(){window.location.replace("./board_02-list.html")}})}$((function(){IPSAP.DEMO_MODE?$("#board_edit").removeClass("hidden"):(API.load({url:eval("`"+CONST.API.BOARD.INFO+"`"),type:CONST.API_TYPE.GET,success:function(t){$("#input_01").val(`${t.title}`),$(".bd_file").find(".data").text(`${t.file_org_name}`),$(".bd_file").find(".data").attr("href",`${t.file_src}`),$("#input_02").val(`${t.text}`),$("#board_edit").removeClass("hidden")}}),$("#inst_name").text(inst_info.name_ko),$("#btn_save").on("click",(function(t){t.stopPropagation(),""==$("#input_01").val()||""==$(".bd_file").find(".data").text()&&null==$("#file_01")[0].files[0]?$("#modal_alert").modal("show"):$("#modal_confirm").modal("show")})),$("#btn_confirm").on("click",(function(){saveData()})),$("#btn_delete").on("click",(function(t){t.stopPropagation(),deleteData()})),$("#btn_old_file_delete").on("click",(function(t){t.stopPropagation(),$(".bd_file").find(".data").remove()})),$("#btn_new_file_delete").on("click",(function(t){t.stopPropagation(),$(".custom-file-label").text("File을 선택해 주세요."),$(".custom-file-input").val("")})))}));