function originalJSFunction(){$(".card").removeClass("hidden")}function dataMappingFunc(e){var t=e.getParentItemData("general_title");$("#name_ko").text(t.getStringValue("name_ko")),$("#name_en").text(t.getStringValue("name_en"));{t=e.getParentItemData("application_info");let v=Number(t.getStringValue("approved_dttm"));$("#approved_dttm").text(getDttm(v).dt)}{let u=(t=e.getItemData("application_info")).getStringValue("application_no");""!=u&&($(".register_num").text(u),$(".register_num2").text(u))}var a="additional_reporting";t=e.getItemData(a);$(`#${a}`).text(t.applyTextValueReadOnly());t=e.getParentItemData("general_end_date");$("#general_end_date").text(t.getStringValue("0"));{var n=e.getParentItemData("animal_type"),r=e.getParentItemData("animal_type_final"),p=e.getParentItemData("animal_type_bring"),i=e.getParentItemData("animal_sum");0==(o=r.dataObj.saved_data.data).length&&(o=n.dataObj.saved_data.data);var d=i.dataObj.saved_data.data;let x=p.dataObj.saved_data.data;if(x.length>0){function l(e){for(let t=0;t<o.length;++t)if(o[t].animal_code_str==e)return!0;return!1}for(let S=0;S<x.length;++S)l(x[S].animal_code_str)||o.push(x[S])}function _(e){var t=0,a=0;for(let n=0;n<x.length;++n)x[n].animal_code_str==e&&(t+=parseInt(x[n].male_cnt),a+=parseInt(x[n].female_cnt));return{m:t,f:a}}var s=$(".list_table").eq(0).children("tbody"),c=s.children("tr").first().clone();s.empty();for(let q=0;q<d.length;++q){let C=_(d[q].animal_code_str);(f=c.clone()).children("td").eq(0).text(d[q].animal_code_str),f.children("td").eq(1).text(d[q].male_cnt),f.children("td").eq(2).text(d[q].female_cnt),f.children("td").eq(3).text(parseInt(d[q].male_cnt)+parseInt(d[q].female_cnt)),f.children("td").eq(4).text(C.m),f.children("td").eq(5).text(C.f),f.children("td").eq(6).text(C.m+C.f),f.children("td").eq(7).text(d[q].male_cnt-C.m),f.children("td").eq(8).text(d[q].female_cnt-C.f),f.children("td").eq(9).text(parseInt(d[q].male_cnt)+parseInt(d[q].female_cnt)-C.m-C.f),s.append(f)}}var o=(p=e.getItemData("animal_type_bring")).dataObj.saved_data.data,m=$("#bring_table").children("tbody"),I=m.children("tr").first().clone();m.empty();for(let T=0;T<o.length;++T){var f;(f=I.clone()).children("td").eq(0).text(o[T].animal_code_str),f.children("td").eq(1).children("span").text(o[T].male_cnt),f.children("td").eq(2).children("span").text(o[T].female_cnt),f.children("td").eq(3).children("span").text(parseInt(o[T].male_cnt)+parseInt(o[T].female_cnt)),f.children("td").eq(4).children("span").text(o[T].supplier_type_str),f.children("td").eq(5).children("span").text(o[T].supplier_name),f.children("td").eq(6).children("span").text(o[T].genetic_type),m.append(f)}$(".agree_date").eq(0).text(getDate(g_AppInfo.appObj.submit_dttm)),$(".reviewer").eq(0).text(spaceAddStr(g_AppInfo.appObj.user_name)),$(".task_title_ko").text(g_AppInfo.appObj.name_ko),$(".task_director_all").text(`(연구 책임자 : ${g_AppInfo.appObj.user_name})`);let g=$(".card-footer").children().eq(0),P=$(".card-footer").children().eq(1),A=$(".card-footer").children().eq(2),h=P.add(A);switch(parseInt(g_AppInfo.appObj.application_result)){case IPSAP.APPLICATION_RESULT.SUPPLEMENT:$(".apptype_date").text("보완중"),h.remove();break;case IPSAP.APPLICATION_RESULT.CHECKING:case IPSAP.APPLICATION_RESULT.CHECKING_2:$(".apptype_date").text("검토중"),g.remove(),h.remove();break;case IPSAP.APPLICATION_RESULT.JUDGE_ING:case IPSAP.APPLICATION_RESULT.JUDGE_ING_2:$(".apptype_date").text("심사중"),g.remove(),h.remove();break;case IPSAP.APPLICATION_RESULT.DECISION_ING:$(".apptype_date").text("심의중"),g.remove(),h.remove();break;case IPSAP.APPLICATION_RESULT.REJECT:$(".apptype_area").addClass("denied"),$(".apptype_date").text("반려"),g.remove(),h.remove();break;case IPSAP.APPLICATION_RESULT.REQUIRE_RETRY:$(".apptype_area").addClass("denied"),$(".apptype_date").text("보완후 재심"),g.remove(),h.remove();break;case IPSAP.APPLICATION_RESULT.EXPERIMENT_ING_A:$(".apptype_date").text("실험중 (승인)"),g.remove();break;case IPSAP.APPLICATION_RESULT.EXPERIMENT_ING_AC:$(".apptype_date").text("실험중 (조건부 승인)"),g.remove();break;case IPSAP.APPLICATION_RESULT.EXPERIMENT_FINISH:$(".apptype_date").text("실험 만료"),g.remove();break;case IPSAP.APPLICATION_RESULT.TASK_FINISH:$(".apptype_date").text("실험 종료"),g.remove();break;case IPSAP.APPLICATION_RESULT.ACCEPT:$(".apptype_date").text("승인 : "+getDttm(g_AppInfo.appObj.approved_dttm).dt),g.remove();break;case IPSAP.APPLICATION_RESULT.ACCEPT_AC:$(".apptype_date").text("조건부 승인 : "+getDttm(g_AppInfo.appObj.approved_dttm).dt),g.remove();break;default:g.remove(),h.remove()}switch(parseInt(g_AppInfo.appObj.application_step)){case 0:default:$(".progress_area").children().removeClass("active"),$(".progress_area").children().eq(0).addClass("active");break;case 1:$(".progress_area").children().removeClass("active"),$(".progress_area").children().eq(1).addClass("active");break;case 4:$(".progress_area").children().removeClass("active"),$(".progress_area").children().eq(2).addClass("active")}originalJSFunction(),setAppChangeInfo()}function setAppChangeInfo(){urlPath=CONST.API.APPLICATION_CHANGE.ANIMALINFO,app_seq=g_AppItemParser.app_seq,API.load({url:urlPath.replace("${app_seq}",app_seq),type:CONST.API_TYPE.GET,success:function(e){if(!e)return;e.length>0&&$(".trace_label").removeClass("hidden");var t=$("#trace_changing").find(".changing-list").clone().clone();$("#trace_changing").empty();var a=1;let n=e;for(const[e,d]of Object.entries(n)){t.find(".list-num").text(a),a++,t.find(".list-date").text(d.approved_dttm);var r,p=JSON.parse(d.contents);r=t.find(".data").eq(1).children("div").first().clone(),t.find(".data").eq(1).empty(),t.find(".data").eq(2).text(p[2]),d.filepath?(t.find(".data").eq(3).text(d.org_file_name),t.find(".data").eq(3).attr("href",d.src)):t.find(".data").eq(3).text("");var i=JSON.parse(p[1]);for(let e=0;e<i.length;++e){let a=r.clone();a.find("span").eq(0).text(i[e][0]),a.find("span").eq(3).text(i[e][1]),a.find("span").eq(5).text(i[e][2]),a.find("span").eq(6).text(i[e][3]),a.find("span").eq(9).text(i[e][4]),a.find("span").eq(11).text(i[e][5]),t.find(".data").eq(1).append(a)}$("#trace_changing").append(t)}},error:function(){},complete:function(){$(".bring_application").removeClass("hidden")}})}"undefined"==typeof api_js&&document.write("<script src='/assets/js/common/api.js'><\/script>"),"undefined"==typeof const_js&&document.write("<script src='/assets/js/common/const.js'><\/script>"),"undefined"==typeof ipsap_item_module_js&&document.write("<script src='/assets/js/ipsap/ipsap_item_module.js'><\/script>"),document.write("<script src='/html/researcher/application_new-0.js'><\/script>"),$((function(){if(loadApplicationParams(),IPSAP.DEMO_MODE)originalJSFunction(),$(".bring_application").removeClass("hidden");else{let e={"filter.query_items":"animal_type_bring,final_judge_result,application_info,additional_reporting","filter.parent_items":"general_title,general_end_date,application_info,animal_type,animal_type_final,animal_type_bring,animal_sum"};g_AppItemParser=new ItemParser(g_AppInfo.childAppSeq),g_AppItemParser.load(e,dataMappingFunc)}}));