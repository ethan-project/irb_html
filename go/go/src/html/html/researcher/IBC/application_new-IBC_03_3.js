"undefined"==typeof api_js&&document.write("<script src='/assets/js/common/api.js'><\/script>"),"undefined"==typeof const_js&&document.write("<script src='/assets/js/common/const.js'><\/script>"),document.write("<script src='/html/researcher/IBC/common_application_new-IBC.js'><\/script>");const g_page_item_name="ibc_risk_toxin_gene";var g_template,g_inserted_data_cnt=0;function savedDataMapping(e){var t={},i=!1;$(".ibc_risk_toxin_gene").children("div").each((function(e,a){var n=$("#ibc_risk_toxin_gene_check-main_check").is(":checked");let d=$(a).children("div").eq(1);if(n)return void(i=!0);let r={v:1,d:{1:d.find("input:text").eq(0).val(),2:{C1:d.find("input:checkbox").eq(0).is(":checked")?"1":"0",T1:d.find("input:text").eq(1).val(),C2:d.find("input:checkbox").eq(1).is(":checked")?"1":"0",T2:d.find("input:text").eq(2).val(),C3:d.find("input:checkbox").eq(2).is(":checked")?"1":"0",T3:d.find("input:text").eq(3).val()},3:{R:d.find("input:radio:checked").eq(0).val(),T1:d.find("input:text").eq(4).val()},4:d.find("input:text").eq(5).val(),5:{R:d.find("input:radio:checked").eq(1).val(),T1:d.find("input:text").eq(6).val(),T2:d.find("input:text").eq(7).val()},6:{R:d.find("input:radio:checked").eq(2).val(),T1:d.find("input:text").eq(8).val()},7:d.find("textarea").eq(0).val(),8:d.find("textarea").eq(1).val()}};t[String(e)]=JSON.stringify(r),e++})),g_AppItemParser.targetSavedItemNames=[g_page_item_name,"ibc_risk_toxin_gene_check"],g_AppItemParser.addMoreSaveTag(g_page_item_name,{data:t}),i=!isInArray([],"1"),"prePage"==e&&1==i?appNaviPrePage():"nextPage"==e&&1==i?appNaviNextPage():"tempSave"==e&&1==i&&saveTemporary()}function insertNewData(e){g_inserted_data_cnt++;var t=g_template.html().replaceAll("03-1-C",`03-1-C-${g_inserted_data_cnt}`);t.replaceAll("input_03-1-C",`input_03-1-C-${g_inserted_data_cnt}`);var i,a=$(t);if(""!=e&&1==(i=JSON.parse(e)).v){let e=a.children("div").eq(1);e.find("input:text").eq(0).val(i.d[1]),i.d[2].C1>0&&(e.find("input:checkbox").eq(0).prop("checked",!0),e.find("input:text").eq(1).val(i.d[2].T1)),i.d[2].C2>0&&(e.find("input:checkbox").eq(1).prop("checked",!0),e.find("input:text").eq(2).val(i.d[2].T2)),i.d[2].C3>0&&(e.find("input:checkbox").eq(2).prop("checked",!0),e.find("input:text").eq(3).val(i.d[2].T3)),e.find(`input:radio[name='radio_03-1-C-${g_inserted_data_cnt}_3']:radio[value='${i.d[3].R}']`).prop("checked",!0),e.find("input:text").eq(4).val(i.d[3].T1),e.find("input:text").eq(5).val(i.d[4]),e.find(`input:radio[name='radio_03-1-C-${g_inserted_data_cnt}_5']:radio[value='${i.d[5].R}']`).prop("checked",!0),e.find("input:text").eq(6).val(i.d[5].T1),e.find("input:text").eq(7).val(i.d[5].T2),e.find(`input:radio[name='radio_03-1-C-${g_inserted_data_cnt}_6']:radio[value='${i.d[6].R}']`).prop("checked",!0),e.find("input:text").eq(8).val(i.d[6].T1),e.find("textarea").eq(0).val(i.d[7]),e.find("textarea").eq(1).val(i.d[8])}($(".ibc_risk_toxin_gene").append(a),""!=e)&&(1==(i=JSON.parse(e)).v&&(i.d[2].C1>0&&$(`#check_03-1-C-${g_inserted_data_cnt}_2-1`).siblings().eq(1).css("display","block"),i.d[2].C2>0&&$(`#check_03-1-C-${g_inserted_data_cnt}_2-2`).siblings().eq(1).css("display","block"),i.d[2].C3>0&&$(`#check_03-1-C-${g_inserted_data_cnt}_2-3`).siblings().eq(1).css("display","block"),3==i.d[3].R&&$(`#radio_03-1-C-${g_inserted_data_cnt}_3-3`).siblings().eq(1).css("display","block"),4==i.d[5].R&&$(`#radio_03-1-C-${g_inserted_data_cnt}_5-4`).siblings().addClass("show"),1!=i.d[5].R&&$(`#radio_03-1-C-${g_inserted_data_cnt}_5-1`).siblings().removeClass("show"),3==i.d[6].R&&$(`#radio_03-1-C-${g_inserted_data_cnt}_6-3`).siblings().addClass("show")));a.find(".item_remove_btn").on({click:function(e){$(this).closest(".content_wrapper").remove()}}),collapseFun(),setTriggerCheckBoxOnChange(),setTriggerRadioOnChange()}function dataMappingFunc(e){e.getItemData("ibc_risk_toxin_gene_check").applyMainCheckValueInCheckBox("ibc_risk_toxin_gene_check-main_check")&&$("#main-3-1-C").removeClass("show");var t=e.getItemData(g_page_item_name).dataObj.saved_data.data;for(const[e,i]of Object.entries(t))insertNewData(i);0==g_inserted_data_cnt&&insertNewData(""),$("#main-3-1-C").removeClass("hidden"),$(".card").removeClass("hidden")}$(document).ready((function(){$(".content_wrapper").wrap('<span class="ibc_risk_toxin_gene"></span>'),g_template=$(".ibc_risk_toxin_gene").clone(),$(".ibc_risk_toxin_gene").empty(),$(".item_new_btn").on({click:function(e){insertNewData("")}}),loadApplicationParams(),function(){let e={"filter.query_items":g_page_item_name+",ibc_risk_toxin_gene_check"};g_AppItemParser=new ItemParser(g_AppInfo.appSeq),g_AppItemParser.load(e,dataMappingFunc)}();var e=function(e,t){this.phase="page3_3",this.btn_type=t};e.prototype.check=function(){"prePage"==this.btn_type||this.btn_type,savedDataMapping(this.btn_type)},di.autowired(!1).register("validator_prePage").as(e).withConstructor().withProperties().prop("btn_type").val("prePage").register("validator_nextPage").as(e).withConstructor().withProperties().prop("btn_type").val("nextPage").register("validator_tempSave").as(e).withConstructor().withProperties().prop("btn_type").val("tempSave")}));