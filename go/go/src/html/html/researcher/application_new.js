var saved_list;"undefined"==typeof api_js&&document.write("<script src='/assets/js/common/api.js'><\/script>"),"undefined"==typeof const_js&&document.write("<script src='/assets/js/common/const.js'><\/script>"),"undefined"==typeof ipsap_application_common_js&&document.write("<script src='/assets/js/ipsap/ipsap_application_common.js'><\/script>"),"undefined"==typeof ipsap_item_module_js&&document.write("<script src='/assets/js/ipsap/ipsap_item_module.js'><\/script>");var view_more_obj=$(".view_more").clone(),judge_type=JSON.parse(COMM.getCookie("institution_info")).judge_type.split(",");function newApplication(e,a){switch(e){case IPSAP.JUDGE_TYPE.IACUC:switch(a){case IPSAP.APPLICATION_TYPE.NEW:g_AppInfo.initNew({judge_type:e,application_type:a}),g_AppInfo.saveParamsAndNavigate(APP_NAVIGATION.IACUC.PAGE_INFO[0].URL);break;case IPSAP.APPLICATION_TYPE.RENEW:case IPSAP.APPLICATION_TYPE.CHANGE:break;default:alert("지원 예정인 신청유형입니다.")}return;case IPSAP.JUDGE_TYPE.IRB:switch(a){case IPSAP.APPLICATION_TYPE.NEW:g_AppInfo.initNew({judge_type:e,application_type:a}),g_AppInfo.saveParamsAndNavigate(APP_IRB_NAVIGATION.IRB.PAGE_INFO[0].URL);break;case IPSAP.APPLICATION_TYPE.CHANGE:case IPSAP.APPLICATION_TYPE.MAINTANACE:break;default:alert("지원 예정인 신청유형입니다.")}return;case IPSAP.JUDGE_TYPE.IBC:switch(a){case IPSAP.APPLICATION_TYPE.NEW:g_AppInfo.initNew({judge_type:e,application_type:a}),g_AppInfo.saveParamsAndNavigate(APP_IBC_NAVIGATION.IBC.PAGE_INFO[0].URL);break;case IPSAP.APPLICATION_TYPE.CHANGE:break;default:alert("지원 예정인 신청유형입니다.")}return;default:alert("지원 예정인 심사유형입니다.")}}function onClickNewRetrialApp(e,a){let t=CONST.API.APPLICATION.COPY_RETRIAL,i="";switch(parseInt(a)){case IPSAP.JUDGE_TYPE.IACUC:i=APP_NAVIGATION.IACUC.PAGE_INFO[0].URL;break;case IPSAP.JUDGE_TYPE.IBC:i=APP_IBC_NAVIGATION.IBC.PAGE_INFO[0].URL;break;case IPSAP.JUDGE_TYPE.IRB:return void alert("지원 예정인 심사유형입니다.")}API.load({url:t.replace("${app_seq}",e),type:CONST.API_TYPE.POST,success:function(e){g_AppInfo.initWithAppObj(e.list),g_AppInfo.saveParamsAndNavigate(i)}})}function getAppReqRetryList(e){switch(e){case IPSAP.JUDGE_TYPE.IACUC:(a=$("#modal_request_retry").find(".list-group")).empty(),API.load({url:CONST.API.APPLICATION.LIST_POSSIBLE,type:CONST.API_TYPE.GET,data:{"filter.app_view_type":6},success:function(e){(saved_list=e.list).length?$("#modal_request_retry").find(".comment_alt").text("실험 계획서를 선택하면, 보안후 재심 신청이 시작됩니다."):$("#modal_request_retry").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$.each(e.list,(function(e,t){a.append(`\n              <a href="javascript:void(0);" onclick='onClickNewRetrialApp(${t.application_seq}, ${IPSAP.JUDGE_TYPE.IACUC})' class="list-group-item hidden"><i class="far fa-file-alt text-secondary mr-2"></i>${t.name_ko}</a>\n            `)}))},complete:function(){initVisbleApp(),$("#modal_request_retry").modal("show")}});break;case IPSAP.JUDGE_TYPE.IRB:break;case IPSAP.JUDGE_TYPE.IBC:var a;(a=$("#modal_request_retry").find(".list-group")).empty(),API.load({url:CONST.API.APPLICATION.LIST_POSSIBLE,type:CONST.API_TYPE.GET,data:{"filter.app_view_type":7},success:function(e){(saved_list=e.list).length?$("#modal_request_retry").find(".comment_alt").text("실험 계획서를 선택하면, 보안후 재심 신청이 시작됩니다."):$("#modal_request_retry").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$.each(e.list,(function(e,t){a.append(`\n              <a href="javascript:void(0);" onclick='onClickNewRetrialApp(${t.application_seq}, ${IPSAP.JUDGE_TYPE.IBC})' class="list-group-item hidden"><i class="far fa-file-alt text-secondary mr-2"></i>${t.name_ko}</a>\n            `)}))},complete:function(){initVisbleApp(),$("#modal_request_retry").modal("show")}});break;default:alert("지원 예정인 심사유형입니다."),$("#modal_request_retry").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$("#modal_available_IBC_change").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$("#modal_available_IRB_change").find(".comment_alt").text("선택 가능한 신청서가 없습니다.")}}function getAppChangeList(e){switch(e){case IPSAP.JUDGE_TYPE.IACUC:var a=$("#modal_available_change").find(".list-group");a.empty(),API.load({url:CONST.API.APPLICATION.LIST_POSSIBLE,type:CONST.API_TYPE.GET,data:{"filter.app_view_type":2},success:function(t){(saved_list=t.list).length?$("#modal_available_change").find(".comment_alt").text("실험 계획서를 선택하면, 변경 승인 신청이 시작됩니다."):$("#modal_available_change").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$.each(t.list,(function(t,i){a.append(`\n              <a href="javascript:void(0);" onclick='onClickAppChange(${t}, ${e})' class="list-group-item hidden"><i class="far fa-file-alt text-secondary mr-2"></i>${i.name_ko}</a>\n            `)}))},complete:function(){initVisbleApp(),$("#modal_available_change").modal("show")}});break;case IPSAP.JUDGE_TYPE.IRB:var t=$("#modal_available_IRB_change").find(".list-group");t.empty(),API.load({url:CONST.API.APPLICATION.LIST_POSSIBLE,type:CONST.API_TYPE.GET,data:{"filter.app_view_type":4},success:function(a){(saved_list=a.list).length?$("#modal_available_IRB_change").find(".comment_alt").text("실험 계획서를 선택하면, 변경 승인 신청이 시작됩니다."):$("#modal_available_IRB_change").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$.each(a.list,(function(a,i){t.append(`\n              <a href="javascript:void(0);" onclick='onClickAppChange(${a}, ${e})' class="list-group-item hidden"><i class="far fa-file-alt text-secondary mr-2"></i>${i.name_ko}</a>\n            `)}))},complete:function(){initVisbleApp(),$("#modal_available_IRB_change").modal("show")}});break;case IPSAP.JUDGE_TYPE.IBC:var i=$("#modal_available_IBC_change").find(".list-group");i.empty(),API.load({url:CONST.API.APPLICATION.LIST_POSSIBLE,type:CONST.API_TYPE.GET,data:{"filter.app_view_type":3},success:function(a){(saved_list=a.list).length?$("#modal_available_IBC_change").find(".comment_alt").text("실험 계획서를 선택하면, 변경 승인 신청이 시작됩니다."):$("#modal_available_IBC_change").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$.each(a.list,(function(a,t){i.append(`\n              <a href="javascript:void(0);" onclick='onClickAppChange(${a}, ${e})' class="list-group-item hidden"><i class="far fa-file-alt text-secondary mr-2"></i>${t.name_ko}</a>\n            `)}))},complete:function(){initVisbleApp(),$("#modal_available_IBC_change").modal("show")}});break;default:alert("지원 예정인 심사유형입니다."),$("#modal_available_change").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$("#modal_available_IBC_change").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$("#modal_available_IRB_change").find(".comment_alt").text("선택 가능한 신청서가 없습니다.")}}function getAppReapplyList(e){switch(e){case IPSAP.JUDGE_TYPE.IACUC:var a=$("#modal_available_reapply").find(".list-group");a.empty(),API.load({url:CONST.API.APPLICATION.LIST_POSSIBLE,type:CONST.API_TYPE.GET,data:{"filter.app_view_type":1},success:function(t){(saved_list=t.list).length?$("#modal_available_reapply").find(".comment_alt").text("실험 계획서를 선택하면, 재승인 신청이 시작됩니다."):$("#modal_available_reapply").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$.each(t.list,(function(t,i){a.append(`\n              <a href="javascript:void(0);" onclick='onClickAppReapply(${t}, ${e})' class="list-group-item hidden"><i class="far fa-file-alt text-secondary mr-2"></i>${i.name_ko}</a>\n            `)}))},complete:function(){initVisbleApp(),$("#modal_available_reapply").modal("show")}});break;case IPSAP.JUDGE_TYPE.IRB:var t=$("#modal_available_IRB_renew").find(".list-group");t.empty(),API.load({url:CONST.API.APPLICATION.LIST_POSSIBLE,type:CONST.API_TYPE.GET,data:{"filter.app_view_type":5},success:function(a){(saved_list=a.list).length?$("#modal_available_IRB_renew").find(".comment_alt").text("실험 계획서를 선택하면, 재승인 신청이 시작됩니다."):$("#modal_available_IRB_renew").find(".comment_alt").text("선택 가능한 신청서가 없습니다."),$.each(a.list,(function(a,i){t.append(`\n              <a href="javascript:void(0);" onclick='onClickAppReapply(${a}, ${e})' class="list-group-item hidden"><i class="far fa-file-alt text-secondary mr-2"></i>${i.name_ko}</a>\n            `)}))},complete:function(){initVisbleApp(),$("#modal_available_IRB_renew").modal("show")}});break;default:alert("지원 예정인 심사유형입니다."),$("#modal_available_IRB_renew").find(".comment_alt").text("선택 가능한 신청서가 없습니다.")}}function onClickAppChange(e,a){switch(a){case IPSAP.JUDGE_TYPE.IACUC:g_AppInfo.initWithAppObj(saved_list[e]),g_AppInfo.saveParamsAndNavigate("/html/researcher/experiment_list-new_change.html");break;case IPSAP.JUDGE_TYPE.IRB:g_AppInfo.initWithAppObj(saved_list[e]),g_AppInfo.saveParamsAndNavigate("/html/researcher/IRB/experiment_list-IRB_new_change.html");break;case IPSAP.JUDGE_TYPE.IBC:g_AppInfo.initWithAppObj(saved_list[e]),g_AppInfo.saveParamsAndNavigate("/html/researcher/IBC/experiment_list-IBC_new_change.html");break;default:alert("지원 예정인 심사유형입니다.")}}function onClickAppReapply(e,a){switch(g_AppInfo.initWithAppObj(saved_list[e])||alert("Fail to ApplicationInfo Init!"),a){case IPSAP.JUDGE_TYPE.IACUC:g_AppInfo.initWithAppObj(saved_list[e]),g_AppInfo.saveParamsAndNavigate("/html/researcher/experiment_list-new_renew.html");break;case IPSAP.JUDGE_TYPE.IRB:g_AppInfo.initWithAppObj(saved_list[e]),g_AppInfo.saveParamsAndNavigate("/html/researcher/IRB/experiment_list-IRB_new_renew.html");break;default:alert("지원 예정인 심사유형입니다.")}}function initVisbleApp(){$("[data-val-name=init_visible_count]").text(CONST.VISIBLE_AVAILABLE_ITEMS),$(".available_app").each((function(e,a){var t=$(a).find("a");for(let e=0;e<CONST.VISIBLE_AVAILABLE_ITEMS;e++)t.eq(e).removeClass("hidden");t.length>CONST.VISIBLE_AVAILABLE_ITEMS&&$(a).append(view_more_obj.clone(!0))}))}function viewHiddenApp(e){$(e).siblings(".hidden").removeClass("hidden"),$(e).add($(e).closest(".modal-body").find(".more_comment")).remove()}$((function(){-1==$.inArray("1",judge_type)?$(".card.IACUC").css("display","none"):-1==$.inArray("2",judge_type)?$(".card.IBC").css("display","none"):-1==$.inArray("3",judge_type)&&$(".card.IRB").css("display","none"),$(".page_body_box").removeClass("hidden")}));