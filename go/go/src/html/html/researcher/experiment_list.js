var saved_list;function setTrigger(){setTriggerTrDataUrlOnClick()}function onClickApplication(t,e,a,s){switch(a){case IPSAP.JUDGE_TYPE.IACUC:switch(s){case IPSAP.APPLICATION_TYPE.NEW:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./application_list-info.html");break;case IPSAP.APPLICATION_TYPE.CHANGE:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./experiment_list-info_change.html");break;case IPSAP.APPLICATION_TYPE.RENEW:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./experiment_list-info_renew.html");break;case IPSAP.APPLICATION_TYPE.BRING:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./experiment_list-info_bring.html");break;case IPSAP.APPLICATION_TYPE.CHECKLIST:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./experiment_list-info_inspection.html");break;case IPSAP.APPLICATION_TYPE.END:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./experiment_list-info_end.html")}break;case IPSAP.JUDGE_TYPE.IRB:switch(s){case IPSAP.APPLICATION_TYPE.NEW:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./IRB/application_list-IRB_info.html");break;case IPSAP.APPLICATION_TYPE.CHANGE:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./IRB/experiment_list-IRB_info_change.html");break;case IPSAP.APPLICATION_TYPE.MAINTANACE:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./IRB/experiment_list-IRB_info_renew.html");break;case IPSAP.APPLICATION_TYPE.ADVERSE:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./IRB/experiment_list-IRB_info_adverse.html");break;case IPSAP.APPLICATION_TYPE.VIOLATION:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./IRB/experiment_list-IRB_info_violation.html");break;case IPSAP.APPLICATION_TYPE.PROBLEM_OCCUR:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./IRB/experiment_list-IRB_info_problem.html");break;case IPSAP.APPLICATION_TYPE.END:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./IRB/experiment_list-IRB_info_end.html")}break;case IPSAP.JUDGE_TYPE.IBC:switch(s){case IPSAP.APPLICATION_TYPE.NEW:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./IBC/application_list-IBC_info.html");break;case IPSAP.APPLICATION_TYPE.CHANGE:g_AppInfo.initWithAppObj(saved_list[t].sub_list[e]),g_AppInfo.saveParamsAndNavigate("./IBC/experiment_list-IBC_info_change.html")}break;default:alert("아직 지원하지 않는 심사유형입니다.")}}function onClickActionButton(t,e){switch(0!=saved_list[t].application_seq&&(saved_list[t].parent_app_seq=saved_list[t].application_seq,saved_list[t].application_seq=0),g_AppInfo.initWithAppObj(saved_list[t]),e){case IPSAP.APPLICATION_TYPE.CHANGE:g_AppInfo.saveParamsAndNavigate("/html/researcher/experiment_list-new_change.html");break;case IPSAP.APPLICATION_TYPE.RENEW:g_AppInfo.saveParamsAndNavigate("/html/researcher/experiment_list-new_renew.html");break;case IPSAP.APPLICATION_TYPE.BRING:g_AppInfo.saveParamsAndNavigate("/html/researcher/experiment_list-new_bring.html");break;case IPSAP.APPLICATION_TYPE.END:g_AppInfo.saveParamsAndNavigate("/html/researcher/experiment_list-new_end.html");break;default:alert("아직 지원하지 않는 서식 유형입니다.")}}function onClickActionButtonIRB(t,e){switch(0!=saved_list[t].application_seq&&(saved_list[t].parent_app_seq=saved_list[t].application_seq,saved_list[t].application_seq=0),g_AppInfo.initWithAppObj(saved_list[t]),e){case IPSAP.APPLICATION_TYPE.CHANGE:g_AppInfo.saveParamsAndNavigate("/html/researcher/IRB/experiment_list-IRB_new_change.html");break;case IPSAP.APPLICATION_TYPE.MAINTANACE:g_AppInfo.saveParamsAndNavigate("/html/researcher/IRB/experiment_list-IRB_new_renew.html");break;case IPSAP.APPLICATION_TYPE.ADVERSE:g_AppInfo.saveParamsAndNavigate("/html/researcher/IRB/experiment_list-IRB_new_adverse.html");break;case IPSAP.APPLICATION_TYPE.VIOLATION:g_AppInfo.saveParamsAndNavigate("/html/researcher/IRB/experiment_list-IRB_new_violation.html");break;case IPSAP.APPLICATION_TYPE.PROBLEM_OCCUR:g_AppInfo.saveParamsAndNavigate("/html/researcher/IRB/experiment_list-IRB_new_problem.html");break;case IPSAP.APPLICATION_TYPE.END:g_AppInfo.saveParamsAndNavigate("/html/researcher/IRB/experiment_list-IRB_new_end.html");break;default:alert("아직 지원하지 않는 서식 유형입니다.")}}function onClickActionButtonIBC(t){0!=saved_list[t].application_seq&&(saved_list[t].parent_app_seq=saved_list[t].application_seq,saved_list[t].application_seq=0),g_AppInfo.initWithAppObj(saved_list[t]),g_AppInfo.saveParamsAndNavigate("/html/researcher/IBC/experiment_list-IBC_new_change.html")}"undefined"==typeof ipsap_common_js&&document.write("<script src='/assets/js/ipsap/ipsap_common.js'><\/script>"),"undefined"==typeof api_js&&document.write("<script src='/assets/js/common/api.js'><\/script>"),"undefined"==typeof const_js&&document.write("<script src='/assets/js/common/const.js'><\/script>"),"undefined"==typeof date_utils_js&&document.write("<script src='/assets/js/common/util/date_utils.js'><\/script>"),"undefined"==typeof ipsap_application_common_js&&document.write("<script src='/assets/js/ipsap/ipsap_application_common.js'><\/script>"),$((function(){var t=location.search,e=new URLSearchParams(t).get("filter.start_index"),a=0;e&&(a=e);var s=$("#datatable thead").data("block-size")?$("#datatable thead").data("block-size"):IPSAP.LIST_SIZE.CASE2,i={"filter.app_view_type":"3"};i["filter.start_index"]=a,i["filter.row_cnt"]=s;let p=$("#datatable").find("tbody");p.empty(),API.load({url:CONST.API.APPLICATION.LIST_APPROVED,type:CONST.API_TYPE.GET,data:i,success:function(t){var e="";saved_list=t.list,$.each(t.list,(function(t,a){switch(parseInt(a.application_step)){case IPSAP.APPLICATION_STEP.WRITE:if(parseInt(a.application_result)===IPSAP.APPLICATION_RESULT.SUPPLEMENT)e="supplement";break;case IPSAP.APPLICATION_STEP.FINAL:if(parseInt(a.application_result)===IPSAP.APPLICATION_RESULT.REJECT)e="denied";break;case IPSAP.APPLICATION_STEP.PERFORMANCE:switch(parseInt(a.application_result)){case IPSAP.APPLICATION_RESULT.EXPERIMENT_ING_A:case IPSAP.APPLICATION_RESULT.EXPERIMENT_ING_AC:e="inProgress";break;case IPSAP.APPLICATION_RESULT.EXPERIMENT_FINISH:e="closed";break;case IPSAP.APPLICATION_RESULT.TASK_FINISH:e="completed"}}parseInt(a.application_result)==IPSAP.APPLICATION_RESULT.JUDGE_DELAY&&(e="delayed"),a.rquired_renew&&(e="to_expire"),$.each(a.sub_list,(function(s,i){i.tmp_approved_dttm=getDttm(i.approved_dttm),i.tmp_application_result_str="",6==i.application_result?i.tmp_application_result_str="심사중":2==i.application_result||3==i.application_result?i.tmp_application_result_str="검토중":11==i.application_result||12==i.application_result?(i.tmp_application_result_str="실험중",e=new Date(a.general_end_date)<new Date?"closed":e):14==i.application_result?i.tmp_application_result_str="실험 종료":i.tmp_application_result_str=i.application_result_str,p.append(`\n          <tr data-url="" onclick='onClickApplication(${t}, ${s}, ${i.judge_type}, ${i.application_type})' class="${i.judge_type_str}">\n            <td>${a.application_seq}</td>\n            <td>${a.name_ko}</td>\n            <td class="title noIcon" data-title="${a.name_ko}">${i.sub_title}</td>\n            <td>${i.application_no}</td>\n            <td>${i.tmp_approved_dttm.dt}</td>\n            <td class="committee_color thick">${i.judge_type_str}</td>\n            <td>${i.application_type_str}</td>\n            <td>${i.application_step_str}</td>\n            <td class="status ${e}">${i.tmp_application_result_str}</td>\n            <td>${i.user_name}</td>\n            <td>${i.istt_name_ko}</td>\n            <td>${i.user_dept_str}</td>\n          </tr>`);let _=i.application_no.split("-");_.pop();let n=_.join("-");p.children().last().data({appno:n,expire_date:`${a.time_diff}`,truser:a.sub_list[0].reg_user_seq,key:t,period:`${a.approved_dttm} ~ ${a.general_end_date}`,status:e})}))}));var i=t.pageInfo.totalCnt;t=0;if(i>(t=0==a?s*(a+1):s+parseInt(a))&&setBlockBtn("next",t,s),a>0&&setBlockBtn("before",t,s,a),i>t||a>0){let t=$(".search_form"),e=$(".dataTables_filter");setServerSearch(t,e)}initDataTable("#datatable"),$(".card").removeClass("hidden")},complete:function(){setTrigger()}})}));