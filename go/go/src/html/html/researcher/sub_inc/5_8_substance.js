function substance_5_8_DataMapping(e,a){var t,n="substance_dosage_name",_=e.getItemData(n,"nosave").getDataCount();function s(a){e.addMultiUIIndex("animal_exp_substance_dosage",a),e.addMultiUIIndex("animal_exp_substance_cnt",a),e.addMultiUIIndex("animal_exp_substance_method1",a)}n="animal_exp_substance_list",$("#"+n).load("/html/researcher/sub_inc/5_8_substance.html",(function(e){if(t=e,0==_)$("#"+n).empty(),i(!0);else{s(1);for(let e=1;e<_;++e)i(!1);c(0,_)}}));var l=1;function i(e){let a;++l,a=t.replaceAll("animal_exp_substance_list_1",`animal_exp_substance_list_${l}`),a=a.replaceAll("substance_dosage_name2_1",`substance_dosage_name2_${l}`),a=a.replaceAll("animal_exp_substance_dosage_1",`animal_exp_substance_dosage_${l}`),a=a.replaceAll("animal_exp_substance_cnt_1",`animal_exp_substance_cnt_${l}`),a=a.replaceAll("animal_exp_substance_method1_1",`animal_exp_substance_method1_${l}`),a=a.replaceAll("[투여 물질 1]",`[투여 물질 ${l-1}]`),$("#"+n).append(a),s(l),e&&c(l-1)}function c(t,n){function _(e,a){return`${e}_${a+1}`}var s=!0;null==n&&(n=t+1,s=!1);for(let u=t;u<n;++u){var l="substance_dosage_name",i=(o=e.getItemData(l,"nosave")).getStringValue(String(u));$(`#${l}2_${u+1}`).text(i);l="animal_exp_substance_dosage";(o=e.getItemData(l)).applyTextValue(u);l="animal_exp_substance_cnt";(o=e.getItemData(l)).applyTextValue(u);var c=(o=e.getItemData("animal_exp_substance_method1")).getStringValue("0"),r=new Object;""!=c&&(r=JSON.parse(o.getStringValue("0")));var m=_("animal_exp_substance_method1",u);if(u<r.length){var p=r[u].animal_exp_substance_method1;if(0==p){p="new";var d=$("#"+m).parent().children("input");d.val(r[u].animal_exp_substance_method1_str),d.show(),a&&d.attr("readonly",!0)}$("#"+m).find(`option[value='${p}'`).attr("selected",!0)}a&&$("#"+m).attr("disabled",!0);var o;l="substance_dosage_flag";if(!(o=e.getItemData(l,"nosave")).getMainChecked(u)&&s){var b=$("#"+`animal_exp_substance_list_${u+1}`);0==b.length&&alert("error"),b.remove()}if(a){var g=u+1;$(`#animal_exp_substance_dosage_${g}`).attr("readonly",!0),$(`#animal_exp_substance_cnt_${g}`).attr("readonly",!0)}}u(),setTriggerSelectOnChange()}function u(){var e=$("#"+n),a=1;e.find(".blue_deep").each((function(){var e=`[투여 물질 ${a}]`;$(this).attr("id");$(this).text(e),++a}))}}