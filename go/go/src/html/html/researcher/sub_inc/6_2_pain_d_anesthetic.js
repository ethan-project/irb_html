function mappingPainDAnesthetic(e,t,n){var i,a="pain_d_anesthetic",_="pain_relief_veterinary_mng",c=e.getItemData(a),o=c.dataObj.saved_data.data,l=o.length;function r(n){e.addMultiUIIndex(a,n),t&&e.addMultiUIIndex(_,n)}$(".pain_d_anesthetic").load("/html/researcher/sub_inc/6_2_pain_d_anesthetic.html",(function(n){if(i=n,0==l)$(".pain_d_anesthetic").empty(),p(!0);else{r(1);for(let e=1;e<l;++e)p(!1);h(0,l)}$(document).on("click",".btn-tr-del",(function(){var n,i=$(this).parent().parent(),c=i.attr("id").split("_");if(c.length>0){let o=Number(c[c.length-1]);n=o,e.removeMultiUIIndex(a,n),t&&e.removeMultiUIIndex(_,n),i.remove(),t&&$(`#pain_relief_veterinary_mng_${c[3]}`).remove(),0==--s&&p(!0,!0)}})),$(document).on("click",".btn-tr-add",(function(){p(!0,!0)})),t&&($(document).on("change",".anesthetic_type",(function(){var e=$(this).attr("id").split("_"),t=$(this).val(),n=`#anesthetic_type2_${e[2]}`;$(n).val(t),$(n).find(`option[value='${t}'`).attr("selected",!0);var i=$(n).parent().children("input");"new"==t?i.show():i.hide()})),$(document).on("change",".injection_route",(function(){var e=$(this).attr("id").split("_"),t=$(this).val(),n=`#injection_route2_${e[2]}`;$(n).val(t),$(n).find(`option[value='${t}'`).attr("selected",!0);var i=$(n).parent().children("input");"new"==t?i.show():i.hide()})),$(document).on("change","#pain_d_anesthetic-main_check",(function(){var e=$("#pain_d_anesthetic-main_check").is(":checked");$("input:checkbox[id='pain_relief_veterinary_mng-main_check']").prop("checked",e),e?$("#pain_relief_veterinary_mng_group").addClass("show"):$("#pain_relief_veterinary_mng_group").removeClass("show")})),$(document).on("keyup",".anesthetic_type_text",(function(){var e=$(this).parent().children("select").attr("id").split("_"),t=$(this).val();$(`#anesthetic_type2_${e[2]}`).parent().children("input").val(t)})),$(document).on("keyup",".injection_route_text",(function(){var e=$(this).parent().children("select").attr("id").split("_"),t=$(this).val();$(`#injection_route2_${e[2]}`).parent().children("input").val(t)})),$(document).on("keyup",".anesthetic_name",(function(){var e=$(this).attr("id").split("_"),t=$(this).val();$(`#anesthetic_name2_${e[2]}`).val(t)})),$(document).on("keyup",".injection_mg",(function(){var e=$(this).attr("id").split("_"),t=$(this).val();$(`#injection_mg2_${e[2]}`).val(t)})))}));var s=1,d=1;function p(e,n){let a;if(++d,++s,a=i.replaceAll("pain_d_anesthetic_1",`pain_d_anesthetic_${d}`),a=a.replaceAll("anesthetic_type_1",`anesthetic_type_${d}`),a=a.replaceAll("anesthetic_name_1",`anesthetic_name_${d}`),a=a.replaceAll("injection_mg_1",`injection_mg_${d}`),a=a.replaceAll("injection_route_1",`injection_route_${d}`),a=a.replaceAll("injection_time1_1",`injection_time1_${d}`),a=a.replaceAll("injection_cnt1_1",`injection_cnt1_${d}`),$(".pain_d_anesthetic").append(a),t&&n){var _=1*$(".pain_d_anesthetic > tr:last").attr("id").split("_")[3];let e;$(".pain_relief_veterinary_mng_non").load("/html/researcher/sub_inc/7_5_pain_relief_veterinary_mng.html",(function(t){e=t.replaceAll("pain_relief_veterinary_mng_1",`pain_relief_veterinary_mng_${_}`),e=e.replaceAll("anesthetic_type2_1",`anesthetic_type2_${_}`),e=e.replaceAll("anesthetic_name2_1",`anesthetic_name2_${_}`),e=e.replaceAll("injection_mg2_1",`injection_mg2_${_}`),e=e.replaceAll("injection_route2_1",`injection_route2_${_}`),e=e.replaceAll("injection_time_1",`injection_time_${_}`),e=e.replaceAll("injection_cnt_1",`injection_cnt_${_}`),$(".pain_relief_veterinary_mng").append(e),combo_html1=makeComboList(`anesthetic_type2_${_}`,"<option selected disabled>종류 선택</option>",c.dataObj.codes,"anesthetic_type","직접입력"),combo_html2=makeComboList(`injection_route2_${_}`,"<option selected disabled>종류 선택</option>",c.dataObj.codes,"injection_route","직접입력"),$(`#anesthetic_type2_${_}`).replaceWith(combo_html1),$(`#injection_route2_${_}`).replaceWith(combo_html2),$(`#anesthetic_type2_${_}`).attr("disabled",!0),$(`#injection_route2_${_}`).attr("disabled",!0)}))}r(d),e&&h(d-1,d)}function h(e,t){function i(e,t){return`${e}_${t+1}`}for(let s=e;s<t;++s){var a=i("anesthetic_type",s);if(combo_html=makeComboList(a,"<option selected disabled>종류 선택</option>",c.dataObj.codes,"anesthetic_type","직접입력"),$("#"+a).replaceWith(combo_html),$("#"+a).addClass("anesthetic_type"),s<o.length){if(0==(_=o[s].anesthetic_type))_="new",(l=$("#"+a).parent().children("input")).val(o[s].anesthetic_type_str),l.show(),n&&l.attr("readonly",!0);$("#"+a).find(`option[value='${_}'`).attr("selected",!0)}n&&$("#"+a).attr("disabled",!0);a=i("injection_route",s);if(combo_html=makeComboList(a,"<option selected disabled>종류 선택</option>",c.dataObj.codes,"injection_route","직접입력"),$("#"+a).replaceWith(combo_html),$("#"+a).addClass("injection_route"),s<o.length){var _,l;if(0==(_=o[s].injection_route))_="new",(l=$("#"+a).parent().children("input")).val(o[s].injection_route_str),l.show(),n&&l.attr("readonly",!0);$("#"+a).find(`option[value='${_}'`).attr("selected",!0)}if(n&&$("#"+a).attr("disabled",!0),s<o.length&&($("#"+i("anesthetic_name",s)).val(o[s].anesthetic_name),$("#"+i("injection_mg",s)).val(o[s].injection_mg),$("#"+i("injection_time1",s)).val(o[s].injection_time),$("#"+i("injection_cnt1",s)).val(o[s].injection_cnt)),n){var r=s+1;$(`#anesthetic_name_${r}`).attr("readonly",!0),$(`#injection_mg_${r}`).attr("readonly",!0),$(`#pain_d_anesthetic_${r} > td:last`).remove(),$("#readOnlyDelCol").remove(),$("#readOnlyDelTh").remove()}}setTriggerSelectOnChange()}}