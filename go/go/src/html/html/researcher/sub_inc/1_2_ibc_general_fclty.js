function mappingIbcFacility(e,t){var l,a="ibc_general_fclty",c=e.getItemData(a),_=c.getStringValue("0"),n=new Object;""!=_&&(n=JSON.parse(c.getStringValue("0")));var i=n.length;function r(t){e.addMultiUIIndex(a,t)}$(".ibc_general_fclty").load("/html/researcher/sub_inc/1_2_ibc_general_fclty.html",(function(t){if(l=t,i){r(1);for(let e=1;e<i;++e)f(!1);d(0,i)}else $(".ibc_general_fclty").empty(),f(!0);$(document).on("click",".btn-tr-del",(function(){var t,l=$(this).parent().parent(),c=l.attr("id").split("_");if(c.length>0){let _=Number(c[c.length-1]);t=_,e.removeMultiUIIndex(a,t),l.remove(),0==--o&&insertNewAnesthetic(!0,!0)}})),$(document).on("click",".btn-tr-add",(function(){f(!0)}))}));var o=1,b=1;function f(e){let t;++b,++o,t=l.replaceAll("ibc_general_fclty_1",`ibc_general_fclty_${b}`),t=t.replaceAll("ibc_general_fclty_biosafety_1",`ibc_general_fclty_biosafety_${b}`),t=t.replaceAll("ibc_general_fclty_type_1",`ibc_general_fclty_type_${b}`),t=t.replaceAll("ibc_general_fclty_grade_1",`ibc_general_fclty_grade_${b}`),t=t.replaceAll("ibc_general_fclty_lmo_1",`ibc_general_fclty_lmo_${b}`),$(".ibc_general_fclty").append(t),r(b),e&&d(b-1,b)}function d(e,l){function a(e,t){return`${e}_${t+1}`}for(let b=e;b<l;++b){var _=a("ibc_general_fclty_type",b);if(combo_html=makeComboList(_,"<option selected disabled>종류 선택</option>",c.dataObj.codes,"fclty_type","직접입력"),$("#"+_).replaceWith(combo_html),b<n.length){if(0==(r=n[b].ibc_general_fclty_type)){r="new";var i=$("#"+_).parent().children("input");i.val(n[b].ibc_general_fclty_type_str),i.show(),t&&i.attr("readonly",!0)}$("#"+_).find(`option[value='${r}'`).attr("selected",!0)}t&&$("#"+_).attr("disabled",!0);_=a("ibc_general_fclty_grade",b);if(combo_html=makeComboList(_,"`<option selected disabled>등급 선택</option>`",c.dataObj.codes,"fclty_grade"),$("#"+_).replaceWith(combo_html),b<n.length){var r=n[b].ibc_general_fclty_grade;$("#"+_).find(`option[value='${r}'`).attr("selected",!0)}t&&$("#"+_).attr("disabled",!0);_=a("ibc_general_fclty_lmo",b);if(combo_html=makeComboList(_,"<option selected disabled>선택</option>",c.dataObj.codes,"fclty_lmo"),$("#"+_).replaceWith(combo_html),b<n.length){r=n[b].ibc_general_fclty_lmo;$("#"+_).find(`option[value='${r}'`).attr("selected",!0)}if(t&&$("#"+_).attr("disabled",!0),b<n.length&&$("#"+a("ibc_general_fclty_biosafety",b)).val(n[b].ibc_general_fclty_biosafety),t){var o=b+1;$(`#ibc_general_fclty_biosafety_${o}`).attr("readonly",!0),$(`#ibc_general_fclty_${o} > td:last`).remove(),$("#readOnlyDelCol").remove(),$("#readOnlyDelTh").remove()}}setTriggerSelectOnChange()}}