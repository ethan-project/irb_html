function originalJSFunction(){}function dataMappingFunc(a){var t=a.getParentItemData("general_title");$("#name_ko").text(t.getStringValue("name_ko")),$("#name_en").text(t.getStringValue("name_en"));{t=a.getParentItemData("application_info");let e=Number(t.getStringValue("approved_dttm"));$("#approved_dttm").text(getDttm(e).dt)}t=a.getParentItemData("general_end_date");$("#general_end_date").text(t.getStringValue("0"));t=a.getItemData("ra_summary_radio");var e=JSON.parse(t.getStringValue("0"));$(`input:radio[name="radio_10_group"]:input[value='${e.radio}']`).attr("checked",!0),0==e.radio?($("input[name=ca_app_no]").hide(),$("#btn_select_app").hide()):1==e.radio?($("input[name=ca_app_no]").val(e.text),$("input[name=ca_app_no]").attr("data-app_seq",e.app_seq)):2==e.radio&&($("input[name=ca_app_no]").hide(),$("#btn_select_app").hide(),$("input[name=radio_etc_input]").val(e.text),$("input[name=radio_etc_input]").show());t=a.getItemData("ra_animal_strain");$("#input_01").val(t.getStringValue("0"));t=a.getItemData("ra_animal_cnt");$("#input_02").val(t.getStringValue("0"));t=a.getItemData("ra_animal_method");$("#input_03").val(t.getStringValue("0"));t=a.getItemData("ra_supplement");$(".supplement_comment").find(".data").text(t.getStringValue("0"));var n=JSON.parse(COMM.getCookie(CONST.COOKIE.IPSAP_USER_INFO));$(".reviewer").text(spaceAddStr(n.name));var i=$("#child_ca_application").children("a").first().clone();$("#child_ca_application").empty();var p=(t=a.getParentItemData("child_ca_application")).dataObj.saved_data.data;for(let a=0;a<p.length;++a){let t=Number(p[a].approved_dttm);var r=`변경 승인 신청서 - ${p[a].application_no} (${getDttm(t).dt})`;let e=i.clone();e.attr("data-app_seq",p[a].application_seq),e.attr("data-app_no",p[a].application_no),e.children("span").text(r),$("#child_ca_application").append(e)}0==p.length&&$("#child_ca_application").append('<span class="blue text-center">승인된 변경 신청서가 없습니다.</span>'),$(".ca_app_select").on({click:function(a){$("input[name=ca_app_no]").val($(this).attr("data-app_no")),$("input[name=ca_app_no]").attr("data-app_seq",$(this).attr("data-app_seq")),$("#modal_select_app").modal("hide")}})}function onClickSubmit(){var a=$('input:radio[name="radio_10_group"]:checked').val();if(null!=a){if(1==a){if(""==$("input[name=ca_app_no]").val())return void $("#modal_alert").modal("show")}else if(2==a&&""==$("input[name=radio_etc_input]").val())return alert("기타 내용을 입력하세요."),void $("input[name=radio_etc_input]").focus();var t=$("input[name=input_01]").val(),e=$("input[name=input_02]").val(),n=$("#input_03").val();if(""==t)return alert("사용 동물 종을 입렵하세요."),void $("input[name=input_01]").focus();if(""==e)return alert("사용 동물 수를 입렵하세요."),void $("input[name=input_02]").focus();if(""==n)return alert("실험 방법 요약을 입렵하세요."),void $("#input_03").focus();if(!$("#check_01").is(":checked"))return alert("제출 동의를 확인해 주세요."),void $("#check_01").focus();if(IPSAP.DEMO_MODE)window.location.href="./experiment_list.html";else{g_AppItemParser.targetSavedItemNames=[];{let t={radio:a};1==a?(t.text=$("input[name=ca_app_no]").val(),t.app_seq=$("input[name=ca_app_no]").attr("data-app_seq")):2==a&&(t.text=$("input[name=radio_etc_input]").val()),g_AppItemParser.addMoreSaveTag("ra_summary_radio",{data:{0:JSON.stringify(t)}})}g_AppItemParser.addMoreSaveTag("ra_animal_strain",{data:{0:t}}),g_AppItemParser.addMoreSaveTag("ra_animal_cnt",{data:{0:e}}),g_AppItemParser.addMoreSaveTag("ra_animal_method",{data:{0:n}}),appItemSubmit(onCompleteSubmit,IPSAP.APP_SUBMIT_TYPE_PARAM.CHILD_SUBMIT)}}else alert("재승인 요약표 항목을 선택하세요.")}function onCompleteSubmit(a,t,e){a?window.location.href="./experiment_list.html":alert(`변경 승인 신청을 실패했습니다.\n(${t.em})`)}"undefined"==typeof api_js&&document.write("<script src='/assets/js/common/api.js'><\/script>"),"undefined"==typeof const_js&&document.write("<script src='/assets/js/common/const.js'><\/script>"),"undefined"==typeof ipsap_item_module_js&&document.write("<script src='/assets/js/ipsap/ipsap_item_module.js'><\/script>"),document.write("<script src='./application_new-0.js'><\/script>"),$((function(){if(loadApplicationParams(),$(".task_director_all").text(`(연구 책임자 : ${g_AppInfo.appObj.user_name})`),IPSAP.DEMO_MODE)originalJSFunction();else{let a={"filter.query_items":"retry_application,ra_supplement","filter.parent_items":"general_title,general_end_date,application_info,child_ca_application"};g_AppItemParser=new ItemParser(g_AppInfo.childAppSeq),g_AppItemParser.load(a,dataMappingFunc)}}));