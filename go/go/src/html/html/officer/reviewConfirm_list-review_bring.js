function originalJSFunction(){switch(parseInt(g_AppInfo.appObj.application_step)){case 0:default:$(".progress_area").children().removeClass("active"),$(".progress_area").children().eq(0).addClass("active");break;case 1:$(".progress_area").children().removeClass("active"),$(".progress_area").children().eq(1).addClass("active");break;case 4:$(".progress_area").children().removeClass("active"),$(".progress_area").children().eq(2).addClass("active")}}function dataMappingFunc(e){var t=e.getParentItemData("general_title");$("#name_ko").text(t.getStringValue("name_ko")),$("#name_en").text(t.getStringValue("name_en"));var a="additional_reporting";t=e.getItemData(a);$(`#${a}`).text(t.applyTextValueReadOnly());{t=e.getParentItemData("application_info");let g=Number(t.getStringValue("approved_dttm"));$("#approved_dttm").text(getDttm(g).dt)}t=e.getParentItemData("general_end_date");$("#general_end_date").text(t.getStringValue("0"));{var n=e.getParentItemData("animal_type"),r=e.getParentItemData("animal_type_final"),i=e.getParentItemData("animal_type_bring"),l=e.getParentItemData("animal_sum").dataObj.saved_data.data;0==(c=r.dataObj.saved_data.data).length&&(c=n.dataObj.saved_data.data);let h=i.dataObj.saved_data.data;if(h.length>0){function d(e){for(let t=0;t<c.length;++t)if(c[t].animal_code_str==e)return!0;return!1}for(let u=0;u<h.length;++u)d(h[u].animal_code_str)||c.push(h[u])}function s(e){var t=0,a=0;for(let n=0;n<h.length;++n)h[n].animal_code_str==e&&(t+=parseInt(h[n].male_cnt),a+=parseInt(h[n].female_cnt));return{m:t,f:a}}var p=$(".list_table").eq(0).children("tbody"),_=p.children("tr").first().clone();p.empty().removeClass("hidden");for(let I=0;I<l.length;++I){let P=s(l[I].animal_code_str);(f=_.clone()).children("td").eq(0).text(l[I].animal_code_str),f.children("td").eq(1).text(l[I].male_cnt),f.children("td").eq(2).text(l[I].female_cnt),f.children("td").eq(3).text(parseInt(l[I].male_cnt)+parseInt(l[I].female_cnt)),f.children("td").eq(4).text(P.m),f.children("td").eq(5).text(P.f),f.children("td").eq(6).text(P.m+P.f),f.children("td").eq(7).text(l[I].male_cnt-P.m),f.children("td").eq(8).text(l[I].female_cnt-P.f),f.children("td").eq(9).text(parseInt(l[I].male_cnt)+parseInt(l[I].female_cnt)-P.m-P.f),p.append(f)}}var c=(i=e.getItemData("animal_type_bring")).dataObj.saved_data.data,o=$("#bring_table").children("tbody"),m=o.children("tr").first().clone();o.empty();for(let A=0;A<c.length;++A){var f;(f=m.clone()).children("td").eq(0).text(c[A].animal_code_str),f.children("td").eq(1).children("span").text(c[A].male_cnt),f.children("td").eq(2).children("span").text(c[A].female_cnt),f.children("td").eq(3).children("span").text(parseInt(c[A].male_cnt)+parseInt(c[A].female_cnt)),f.children("td").eq(4).children("span").text(c[A].supplier_type_str),f.children("td").eq(5).children("span").text(c[A].supplier_name),f.children("td").eq(6).children("span").text(c[A].genetic_type),o.append(f)}$(".agree_date").eq(0).text(getDate(g_AppInfo.appObj.submit_dttm)),$(".reviewer").eq(0).text(spaceAddStr(g_AppInfo.appObj.user_name)),(t=e.getItemData("final_judge_result")).dataObj.items.splice(1,2),t.makeHtmlRadioType(IPSAP.COL.ALL,0),originalJSFunction()}function setAppChangeInfo(){urlPath=CONST.API.APPLICATION_CHANGE.ANIMALINFO,app_seq=g_AppItemParser.app_seq,API.load({url:urlPath.replace("${app_seq}",app_seq),type:CONST.API_TYPE.GET,success:function(e){if(!e)return;e.length>0&&$(".trace_label").removeClass("hidden");var t=$("#trace_changing").find(".changing-list").clone().clone();$("#trace_changing").empty();var a=1;let n=e;for(const[e,d]of Object.entries(n)){t.find(".list-num").text(a),a++,t.find(".list-date").text(d.approved_dttm);var r,i=JSON.parse(d.contents);r=t.find(".data").eq(1).children("div").first().clone(),t.find(".data").eq(1).empty(),t.find(".data").eq(2).text(i[2]),d.filepath?(t.find(".data").eq(3).text(d.org_file_name),t.find(".data").eq(3).attr("href",d.src)):t.find(".data").eq(3).text("");var l=JSON.parse(i[1]);for(let e=0;e<l.length;++e){let a=r.clone();a.find("span").eq(0).text(l[e][0]),a.find("span").eq(3).text(l[e][1]),a.find("span").eq(5).text(l[e][2]),a.find("span").eq(6).text(l[e][3]),a.find("span").eq(9).text(l[e][4]),a.find("span").eq(11).text(l[e][5]),t.find(".data").eq(1).append(a)}$("#trace_changing").append(t)}},error:function(){},complete:function(){}})}function onClickFinalFinishSubmit(){if(IPSAP.DEMO_MODE)window.location.href="./reviewConfirm_list.html";else{g_AppItemParser.targetSavedItemNames=["final_judge_result"];var e=IPSAP.APP_SUBMIT_TYPE_PARAM.JUDGE_FINAL_REJECT;switch(Number($('input:radio[name="final_judge_result_0"]:checked').val())){case 1:e=IPSAP.APP_SUBMIT_TYPE_PARAM.JUDGE_FINAL_A;break;case 2:e=IPSAP.APP_SUBMIT_TYPE_PARAM.JUDGE_FINAL_AC;break;case 3:e=IPSAP.APP_SUBMIT_TYPE_PARAM.JUDGE_FINAL_REQUIRE_RETRY}appItemSubmit(onCompleteFinalFinishSubmit,e)}}function onCompleteFinalFinishSubmit(e,t,a){e?window.location.href="./reviewConfirm_list.html":appSubmitHandleError("심의 완료를 실패했습니다.",t)}"undefined"==typeof api_js&&document.write("<script src='/assets/js/common/api.js'><\/script>"),"undefined"==typeof const_js&&document.write("<script src='/assets/js/common/const.js'><\/script>"),"undefined"==typeof ipsap_item_module_js&&document.write("<script src='/assets/js/ipsap/ipsap_item_module.js'><\/script>"),document.write("<script src='/html/researcher/application_new-0.js'><\/script>"),$((function(){if(loadApplicationParams(),IPSAP.DEMO_MODE)originalJSFunction();else{let e={"filter.query_items":"animal_type_bring,final_judge_result,additional_reporting","filter.parent_items":"general_title,general_end_date,application_info,animal_type,animal_type_final,animal_type_bring,animal_sum"};g_AppItemParser=new ItemParser(g_AppInfo.childAppSeq),g_AppItemParser.load(e,dataMappingFunc)}setAppChangeInfo()}));