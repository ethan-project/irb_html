"undefined"==typeof api_js&&document.write("<script src='/assets/js/common/api.js'><\/script>"),"undefined"==typeof const_js&&document.write("<script src='/assets/js/common/const.js'><\/script>");var user_seq=IPSAP.getStor("user_seq");function getInfoMember(){if(IPSAP.DEMO_MODE)return;let e=CONST.API.USER.DETAIL;API.load({url:e.replace("${user_seq}",user_seq),type:CONST.API_TYPE.GET,success:function(e){let t="";1==e.user_status?(t="unregistered",$(".card-footer").children().eq(2).css("display","none")):2==e.user_status?(t="registered",$(".card-footer").children().eq(1).css("display","none"),$(".card-footer").children().eq(3).css("display","none")):4==e.user_status&&(t="withdrawn",$(".btn_withdrawn_block").prop("disabled",!0),$(".card-footer").children().eq(1).css("display","none"),$(".card-footer").children().eq(3).css("display","none"));let s=$(".tbody1_1"),n="",o=[];o.push(e.user_type_str.split(",")),$.each(o[0],(function(e,t){n+='<span class="label auth_label">',n+=t+"</span>"})),s.html(n),s.addClass(t),$(".tbody1_2").text(e.dept_str),$(".tbody1_3").text(e.position_str),$(".tbody1_4").text(e.major_field_str);let r=$(".tbody2_1");r.text(e.user_status_str),r.addClass(t),$(".tbody2_2").text(e.name),$(".tbody2_3").text(e.phoneno.replace(/(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/,"$1-$2-$3")),$(".tbody2_4").text(e.email),$(".tbody3_1").text(e.edu_date.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")),$(".tbody3_2").text(e.edu_institution_str),$(".tbody3_3").text(e.edu_course_num)},complete:function(){$(".card").removeClass("hidden")}})}function initPw(){if(IPSAP.DEMO_MODE)return;let e=CONST.API.ADMIN.PATCH_PASS;API.load({url:e.replace("${user_seq}",user_seq),type:CONST.API_TYPE.PATCH,success:function(e){$("#modal_init_pw").modal("hide")},error:function(e){}})}function staffExpell(){if(IPSAP.DEMO_MODE)return;let e=CONST.API.ADMIN.EXPELL;API.load({url:e.replace("${user_seq}",user_seq),type:CONST.API_TYPE.PATCH,success:function(e){$("#modal_expell").modal("hide")},error:function(e){},complete:function(){window.location.href="./staff_list.html"}})}function resendMail(){let e=CONST.API.ADMIN.RESEND_MSG;API.load({url:e.replace("${user_seq}",user_seq),type:CONST.API_TYPE.PATCH,success:function(e){$("#modal_resend").modal("hide")},error:function(e){},complete:function(){window.location.href="./staff_list.html"}})}function deleteTempUser(){let e=CONST.API.ADMIN.DELETE_USER;API.load({url:e.replace("${user_seq}",user_seq),type:CONST.API_TYPE.DELETE,success:function(e){$("#modal_remove_temp").modal("hide")},error:function(e){},complete:function(){window.location.href="./staff_list.html"}})}$((function(){$(".page-content");getInfoMember(),$("#btn_init_pw").on("click",(function(){initPw()})),$("#btn_expell").on("click",(function(){staffExpell()})),$("#btn_resend").on("click",(function(){resendMail()})),$("#btn_delete").on("click",(function(){deleteTempUser()})),scrollSpy()}));