var changeInfoTemplate;function originalJSFunction(){}function dataMappingFunc(e){{var t=e.getItemData("judge_expert_deadline",!0).getStringValue("0");if(""==t)return void alert("전문 심사 종료일 Error!!!");var a=e.getItemData("judge_normal_deadline",!0).getStringValue("0");if(""==a)return void alert("일반 심사 종료일 Error!!!");var r=a,n="H";if(a.length>1){r=a.substring(0,a.length-1);n=a.slice(-1)}0==r&&(r=7);var i=new Date(t).getTime();function d(){var e=(new Date).getTime(),t=parseInt((i-e)/1e3);let a=getTimeStrFromSec(t);$(".timer").text(a),t>=0?$(".timer").parent().removeClass("timeout"):$(".timer").parent().addClass("timeout")}i+="H"==n?3600*r*1e3:86400*r*1e3,d(),setInterval((function(){d()}),1e3)}var p=e.getParentItemData("general_title");$("#name_ko").text(p.getStringValue("name_ko")),$("#name_en").text(p.getStringValue("name_en"));{p=e.getParentItemData("application_info");let I=Number(p.getStringValue("approved_dttm"));$("#approved_dttm").text(getDttm(I).dt)}p=e.getParentItemData("general_end_date");function s(e,t){for(let a=0;a<e.length;++a)if(e[a].is_seq==t)return e[a].contents;return"Error!!"}function o(e,t){for(let a=0;a<e.length;++a)if(e[a].file_idx==t)return e[a]}$("#general_end_date").text(p.getStringValue("0"));{var l=e.getItemData("ca_regular_file");let w=(p=e.getItemData("ca_regular_item")).dataObj.saved_data.data;for(const[O,b]of Object.entries(w)){let q=o(l.dataObj.saved_data.data,Number(O)),P=changeInfoTemplate.clone();P.find("span").eq(0).text("[정규]"),P.find("span").eq(1).text(s(p.dataObj.codes,Number(O)));var _,m=JSON.parse(b);104==Number(O)?(_=P.find(".data").eq(1).children("div").first().clone(),P.find(".data").eq(1).empty()):P.find(".data").eq(1).text(m[1]),P.find(".data").eq(2).text(m[2]),P.find("span").eq(2).text(IPSAP.APP_MAIN_TAG_NAME[m[0]]);var c=`newWindowPopup('./_popup_application-info.html#form_${m[0]}')`;if(P.find("a").first().attr("onclick",c),null==q?P.find(".data").eq(3).text(""):(P.find(".data").eq(3).text(q.org_file_name),P.find(".data").eq(3).attr("href",q.src)),104==Number(O)){var f=JSON.parse(m[1]);for(let h=0;h<f.length;++h){let A=_.clone();A.find("span").eq(0).text(f[h][0]),A.find("span").eq(3).text(f[h][1]),A.find("span").eq(5).text(f[h][2]),A.find("span").eq(6).text(f[h][3]),A.find("span").eq(9).text(f[h][4]),A.find("span").eq(11).text(f[h][5]),P.find(".data").eq(1).append(A)}}$("#change_application").append(P)}}{l=e.getItemData("ca_fast_file");let j=(p=e.getItemData("ca_fast_item")).dataObj.saved_data.data;for(const[D,N]of Object.entries(j)){let T=o(l.dataObj.saved_data.data,Number(D)),M=changeInfoTemplate.clone();M.removeClass("regular_review"),M.addClass("simple_review"),M.find(".blue_deep").addClass("green"),M.find(".blue_deep").removeClass("blue_deep"),M.find("span").eq(0).text("[신속]"),M.find("span").eq(1).text(s(p.dataObj.codes,Number(D)));m=JSON.parse(N);M.find(".data").eq(1).text(m[1]),M.find(".data").eq(2).text(m[2]),M.find("span").eq(2).text(IPSAP.APP_MAIN_TAG_NAME[m[0]]);c=`newWindowPopup('./_popup_application-info.html#form_${m[0]}')`;M.find("a").first().attr("onclick",c),null==T?M.find(".data").eq(3).text(""):(M.find(".data").eq(3).text(T.org_file_name),M.find(".data").eq(3).attr("href",T.src)),$("#change_application").append(M)}}$(".agree_date").eq(0).text(getDate(g_AppInfo.appObj.submit_dttm)),$(".reviewer").eq(0).text(spaceAddStr(g_AppInfo.appObj.user_name));{p=e.getItemData("expert_review_result");let C=Number(p.dataObj.saved_data.data[0].select_ids[0]),E="";try{E=p.dataObj.saved_data.data[0].inputs[String(C)][1]}catch(y){}let k="";for(let F=0;F<p.dataObj.items.length;++F)if(p.dataObj.items[F].id==C){k=p.dataObj.items[F].value;break}$("#expert_review_result").text(k),""!=E?$("#expert_review_result_text").text(E):$("#expert_review_result_text").remove()}{var g=(p=e.getItemData("expert_member")).dataObj.saved_data.data[0].info.name;$(".reviewer").eq(1).text(spaceAddStr(g));var u=p.dataObj.saved_data.data[0].user_seq,v=e.getItemData("expert_review_dttm");const J=new Date(1e3*v.dataObj.saved_data.data[String(u)]);$(".agree_date").eq(1).text(getTimeStrFromDateType(J))}var x=JSON.parse(COMM.getCookie(CONST.COOKIE.IPSAP_USER_INFO));(p=e.getItemData("normal_review_result")).makeHtmlRadioType(IPSAP.COL.ALL,x.user_seq);var S=x.name;$(".agree_date").eq(2).text(getToDayStr()),$(".reviewer").eq(2).text(spaceAddStr(S)),originalJSFunction()}function onClickNormalReviewFinishSubmit(){if(!$("#check_11").is(":checked"))return alert("제출 동의를 확인해 주세요."),void $("#check_11").focus();if(IPSAP.DEMO_MODE)window.location.href="./review_list.html";else{g_AppItemParser.targetSavedItemNames=["normal_review_result"];var e=JSON.parse(COMM.getCookie(CONST.COOKIE.IPSAP_USER_INFO)),t={};t[String(e.user_seq)]=Math.floor((new Date).getTime()/1e3),g_AppItemParser.addMoreSaveTag("normal_review_dttm",{data:t}),appItemSaveTemporary(onCompleteNormalReviewSubmit,IPSAP.APP_SUBMIT_TYPE_PARAM.JUDGE_NORMAL)}}function onCompleteNormalReviewSubmit(e,t,a){e?window.location.href="./review_list.html":appSubmitHandleError("일반 심사를 완료할 수 없습니다.",t)}"undefined"==typeof api_js&&document.write("<script src='/assets/js/common/api.js'><\/script>"),"undefined"==typeof const_js&&document.write("<script src='/assets/js/common/const.js'><\/script>"),"undefined"==typeof ipsap_item_module_js&&document.write("<script src='/assets/js/ipsap/ipsap_item_module.js'><\/script>"),document.write("<script src='/html/researcher/application_new-0.js'><\/script>"),$((function(){if(loadApplicationParams(),IPSAP.DEMO_MODE)originalJSFunction();else{let e={"filter.query_items":"change_application,judge_expert_deadline,expert_member,expert_review_result,expert_review_dttm,judge_normal_deadline,normal_review_result","filter.parent_items":"general_title,general_end_date,application_info"};changeInfoTemplate=$("#change_application").children("ul").first().clone(),$("#change_application").empty(),g_AppItemParser=new ItemParser(g_AppInfo.childAppSeq),g_AppItemParser.load(e,dataMappingFunc)}}));